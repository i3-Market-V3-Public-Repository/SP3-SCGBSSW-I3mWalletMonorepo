openapi: '3.0.2'

info:
  version: "{{VERSION}}"
  title: i3M Wallet API
  contact:
    name: Juan Hern√°ndez Serrano
    email: j.hernandez@upc.edu
  license:
    name: MIT
  description: |
    i3M-Wallet API that can be used to interact with the i3M-Wallet. Most of the functionalities will also require end-user interaction with the wallet app.

tags:
  - name: identities
    description: |
      Endpoints to manage identities (DIDs).
  
  - name: resources
    description: |
      Besides identities, the wallet MAY securely store arbitrary resources in a secure vault, which may be selectively disclosed upon request. Currently storing verifiable credentials
  
  - name: selectiveDisclosure
    description: |
      Ednpoints for the selective disclosure process (used to present verifiable credentials)
      
  - name: transaction
    description: | 
      Endpoints for deploying signed transactions to the DLT the wallet is connected to.

  - name: utils
    description: |
      Additional helpler functions

paths:
  /identities:
    $ref: "./paths/identities.yaml#/paths/~1identities"

  /identities/select:
    $ref: "./paths/identities.yaml#/paths/~1identities~1select"

  /identities/{did}/sign:
    $ref: "./paths/identities.yaml#/paths/~1identities~1%7Bdid%7D~1sign"

  /identities/{did}/info:
    $ref: "./paths/identities.yaml#/paths/~1identities~1{did}~1info"

  /identities/{did}/deploy-tx:
    $ref: "./paths/identities.yaml#/paths/~1identities~1{did}~1deploy-tx"

  /resources:
    $ref: "./paths/resources.yaml#/paths/~1resources"

  /disclosure/{jwt}:
    $ref: "./paths/disclosure.yaml#/paths/~1disclosure~1%7Bjwt%7D"

  /transaction/deploy:
    $ref: "./paths/transaction.yaml#/paths/~1transaction~1deploy"

  /did-jwt/verify:
    $ref: "./paths/did-jwt.yaml#/paths/~1did-jwt~1verify"
  
  /providerinfo:
    $ref: "./paths/providerinfo.yaml#/paths/~1providerinfo"

