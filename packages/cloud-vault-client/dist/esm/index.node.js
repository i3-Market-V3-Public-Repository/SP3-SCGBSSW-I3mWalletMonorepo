import{randomBytes as t,createCipheriv as e,createDecipheriv as i,createHash as s,scrypt as r,createSecretKey as a}from"crypto";import n,{AxiosError as o}from"axios";import{EventEmitter as l}from"events";import u from"eventsource";import{config as h}from"dotenv";class d{key;alg;constructor(t,e){this.key=t,this.alg=e}encrypt(i){const s=t(16),r=e(this.alg,this.key,s),a=Buffer.concat([r.update(i),r.final()]),n=r.getAuthTag();return Buffer.concat([s,n,a])}decrypt(t){const e=t.subarray(0,16),s=t.subarray(16,32),r=t.subarray(32),a=i(this.alg,this.key,e);return a.setAuthTag(s),Buffer.concat([a.update(r),a.final()])}}class c{_encKey;_authKey;username;derivationOptions;initialized;_initialized;constructor(t,e,i){this.username=t,this.derivationOptions=i,this._initialized=!1,this.initialized=this.init(e)}async init(t){const{master:e,auth:i,enc:s}=this.derivationOptions,r=m(e.salt_hashing_algorithm,e.salt_pattern,{username:this.username}),a=await g(t,{...e,salt:r}),n=m(i.salt_hashing_algorithm,i.salt_pattern,{username:this.username}),o=m(s.salt_hashing_algorithm,s.salt_pattern,{username:this.username}),[l,u]=await Promise.all([g(a,{...i,salt:n}),g(a,{...s,salt:o})]);this._authKey=l,this._encKey=new d(u,s.enc_algorithm),this._initialized=!0}get authKey(){if(!this._initialized)throw new Error("Unable to get authKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._authKey.export().toString("base64url")}get encKey(){if(!this._initialized)throw new Error("Unable to get encKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._encKey}}function m(t,e,i){let r="";for(const t in i)r=e.replaceAll(t,i[t]);return s(t).update(r).digest()}async function g(t,e){const i={...e.alg_options,maxmem:256*e.alg_options.N*e.alg_options.r},s="string"==typeof t?t:t.export(),n=new Promise(((t,n)=>{r(s,e.salt,e.derived_key_length,i,((e,i)=>{null!==e&&n(e),t(a(i))}))}));return await n}h();const p=(t,e)=>{let i=`Invalid value for ${t}. `;return void 0!==e&&(i+=`Allowed values are ${e} `),i},f=["0","false","FALSE"],v=["1","true","FALSE"],w=f.concat(v);function y(t,e){const i=void 0===(s=process.env[t])?"":s;var s;const r=(e=e??{})?.isBoolean??!1;if(r&&(e={...e,allowedValues:w}),""===i){if(void 0!==e.defaultValue)return e.defaultValue;if(void 0!==e.allowedValues&&!e.allowedValues.includes(""))throw new RangeError(p(t,e.allowedValues.join(", ")))}if(r&&v.includes(i))return!0;if(r&&f.includes(i))return!1;if(void 0!==e.allowedValues&&!e.allowedValues.includes(i))throw new RangeError(p(t,e.allowedValues.join(", ")));return i}y("NODE_ENV",{defaultValue:"production",allowedValues:["production","development"]});const E="v"+y("npm_package_version",{defaultValue:"0.0.1"})[0];class _ extends l{timestamp;token;name;serverUrl;username;password;keyManager;wellKnownCvsConfiguration;defaultEvents;initialized;es;constructor(e,i,s,r){super({captureRejections:!0}),this.name=r??t(16).toString("hex"),this.serverUrl=e,this.username=i,this.password=s,this.defaultEvents={connected:"connected",close:"close","login-required":"login-required","storage-updated":"storage-updated","storage-deleted":"storage-deleted",conflict:"conflict",error:"error"},this.initialized=this.init()}async init(){try{await this.getWellKnownCvsConfiguration()}catch(t){return this.emitError(t),!1}const t=this.wellKnownCvsConfiguration;this.keyManager=new c(this.username,this.password,t.vault_configuration[E].key_derivation);try{await this.keyManager.initialized}catch(t){return this.emitError(t),!1}return delete this.password,!0}emitError(t){t instanceof o&&void 0!==t.response?"Unauthorized"===t.response.data.name?(this.logout(),this.emit(this.defaultEvents["login-required"])):this.emit(this.defaultEvents.error,t.response):this.emit(this.defaultEvents.error,t)}async getWellKnownCvsConfiguration(){const t=await n.get(this.serverUrl+"/.well-known/cvs-configuration");this.wellKnownCvsConfiguration=t.data}async initEventSourceClient(){if(void 0===this.token)throw new Error("Cannot subscribe to events without login first");const t=this.wellKnownCvsConfiguration;this.es=new u(this.serverUrl+t.vault_configuration[E].events_endpoint,{headers:{Authorization:"Bearer "+this.token}}),this.es.onmessage=t=>{console.log(t)},this.es.addEventListener("connected",(t=>{const e=JSON.parse(t.data);this.timestamp=e.timestamp,this.emit(this.defaultEvents.connected,e.timestamp)})),this.es.addEventListener("storage-updated",(t=>{const e=JSON.parse(t.data);e.timestamp!==this.timestamp&&(this.timestamp=e.timestamp,this.emit(this.defaultEvents["storage-updated"],this.timestamp))})),this.es.addEventListener("storage-deleted",(t=>{delete this.timestamp,this.close(),this.emit(this.defaultEvents["storage-deleted"])})),this.es.onerror=t=>{this.emitError(t)}}close(){this.logout(),this.emit(this.defaultEvents.close)}async getAuthKey(){if(!await this.initialized)try{await this.init()}catch(t){return this.emitError(t),null}return this.keyManager.authKey}async login(){if(!await this.initialized)try{await this.init()}catch(t){return this.emitError(t),!1}const t={username:this.username,authkey:this.keyManager.authKey};try{const e=this.wellKnownCvsConfiguration,i=await n.post(this.serverUrl+e.vault_configuration.v2.token_endpoint,t);if(200!==i.status)return this.emitError(i),!1;const s=i.data;return this.token=s.token,await this.initEventSourceClient(),!0}catch(t){return this.emitError(t),!1}}logout(){this.token=void 0,this.es?.close()}async getRemoteStorageTimestamp(){try{if(void 0===this.token)return this.emit(this.defaultEvents["login-required"]),null;const t=this.wellKnownCvsConfiguration,e=await n.get(this.serverUrl+t.vault_configuration[E].timestamp_endpoint,{headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});return 200!==e.status?(this.emitError(e),null):((this.timestamp??0)<e.data.timestamp&&(this.timestamp=e.data.timestamp),e.data.timestamp)}catch(t){return this.emitError(t),null}}async getStorage(){try{if(void 0===this.token)return this.emit(this.defaultEvents["login-required"]),null;const t=this.wellKnownCvsConfiguration,e=this.keyManager.encKey,i=await n.get(this.serverUrl+t.vault_configuration[E].vault_endpoint,{headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});if(200!==i.status)return this.emitError(i),null;if(i.data.timestamp<(this.timestamp??0))return this.emitError(new Error("Received timestamp is older than the latest one published")),null;const s=e.decrypt(Buffer.from(i.data.ciphertext,"base64url"));return this.timestamp=i.data.timestamp,{storage:s,timestamp:i.data.timestamp}}catch(t){return this.emitError(t),null}}async updateStorage(t,e=!1){try{if(void 0===this.token)return this.emit(this.defaultEvents["login-required"]),!1;if(void 0!==this.timestamp&&(t.timestamp??0)<this.timestamp)return this.emit(this.defaultEvents.conflict),!1;const i=this.wellKnownCvsConfiguration,s=this.keyManager.encKey;if(e){const e=await this.getRemoteStorageTimestamp();t.timestamp=null!==e?e:void 0}const r={ciphertext:s.encrypt(t.storage).toString("base64url"),timestamp:t.timestamp},a=await n.post(this.serverUrl+i.vault_configuration[E].vault_endpoint,r,{headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});return 201!==a.status?(this.emitError(a),!1):(this.timestamp=a.data.timestamp,!0)}catch(t){this.emitError(t)}return!1}async deleteStorage(){try{if(void 0===this.token)return this.logout(),this.emit(this.defaultEvents["login-required"]),!1;const t=this.wellKnownCvsConfiguration,e=await n.delete(this.serverUrl+t.vault_configuration[E].vault_endpoint,{headers:{Authorization:"Bearer "+this.token}});return 204!==e.status?(this.emitError(e),!1):(this.emit(this.defaultEvents["storage-deleted"]),delete this.timestamp,this.close(),!0)}catch(t){this.emitError(t)}return!1}async getServerPublicKey(){try{await this.getWellKnownCvsConfiguration();const t=this.wellKnownCvsConfiguration,e=await n.get(this.serverUrl+t.registration_configuration.public_jwk_endpoint);return 200!==e.status?(this.emitError(e),null):e.data.jwk}catch(t){return this.emitError(t),null}}}export{c as KeyManager,d as SecretKey,_ as VaultClient,g as deriveKey};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubm9kZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3RzL3NlY3JldC1rZXkudHMiLCIuLi8uLi9zcmMvdHMva2V5LW1hbmFnZXIudHMiLCIuLi8uLi9zcmMvdHMvY29uZmlnL3BhcnNlUHJvY2Vzc0VudlZhci50cyIsIi4uLy4uL3NyYy90cy9jb25maWcvaW5kZXgudHMiLCIuLi8uLi9zcmMvdHMvdmF1bHQtY2xpZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpudWxsLCJuYW1lcyI6WyJTZWNyZXRLZXkiLCJrZXkiLCJhbGciLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJlbmNyeXB0IiwiaW5wdXQiLCJpdiIsInJhbmRvbUJ5dGVzIiwiY2lwaGVyIiwiY3JlYXRlQ2lwaGVyaXYiLCJlbmNyeXB0ZWQiLCJCdWZmZXIiLCJjb25jYXQiLCJ1cGRhdGUiLCJmaW5hbCIsInRhZyIsImdldEF1dGhUYWciLCJkZWNyeXB0Iiwic3ViYXJyYXkiLCJjaXBoZXJ0ZXh0IiwiZGVjaXBoZXIiLCJjcmVhdGVEZWNpcGhlcml2Iiwic2V0QXV0aFRhZyIsIktleU1hbmFnZXIiLCJfZW5jS2V5IiwiX2F1dGhLZXkiLCJ1c2VybmFtZSIsImRlcml2YXRpb25PcHRpb25zIiwiaW5pdGlhbGl6ZWQiLCJfaW5pdGlhbGl6ZWQiLCJwYXNzd29yZCIsIm9wdHMiLCJpbml0IiwiYXN5bmMiLCJtYXN0ZXIiLCJhdXRoIiwiZW5jIiwibWFzdGVyU2FsdCIsIl9zYWx0Iiwic2FsdF9oYXNoaW5nX2FsZ29yaXRobSIsInNhbHRfcGF0dGVybiIsIm1hc3RlcktleSIsImRlcml2ZUtleSIsInNhbHQiLCJhdXRoU2FsdCIsImVuY1NhbHQiLCJhdXRoS2V5IiwiZW5jS2V5IiwiUHJvbWlzZSIsImFsbCIsImVuY19hbGdvcml0aG0iLCJFcnJvciIsImNhdXNlIiwiZXhwb3J0IiwidG9TdHJpbmciLCJoYXNoQWxnb3JpdGhtIiwic2FsdFBhdHRlcm4iLCJyZXBsYWNlbWVudHMiLCJzYWx0U3RyaW5nIiwic2VhcmNoVmFsdWUiLCJyZXBsYWNlQWxsIiwiY3JlYXRlSGFzaCIsImRpZ2VzdCIsInBhc3N3b3JkT3JLZXkiLCJzY3J5cHRPcHRpb25zIiwiYWxnX29wdGlvbnMiLCJtYXhtZW0iLCJOIiwiciIsImtleVByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2NyeXB0IiwiZGVyaXZlZF9rZXlfbGVuZ3RoIiwiZXJyIiwiY3JlYXRlU2VjcmV0S2V5IiwibG9hZEVudkZpbGUiLCJpbnZhbGlkTXNnIiwidmFybmFtZSIsInZhbHVlcyIsInJldCIsInVuZGVmaW5lZCIsImJvb2xlYW5GYWxzZUFsbG93ZWRWYWx1ZXMiLCJib29sZWFuVHJ1ZUFsbG93ZWRWYWx1ZXMiLCJib29sZWFuQWxsb3dlZFZhbHVlcyIsInBhcnNlUHJvY2Nlc3NFbnZWYXIiLCJ2YXJOYW1lIiwib3B0aW9ucyIsInZhbHVlIiwiYSIsInByb2Nlc3MiLCJlbnYiLCJpc0Jvb2xlYW4iLCJhbGxvd2VkVmFsdWVzIiwiZGVmYXVsdFZhbHVlIiwiaW5jbHVkZXMiLCJSYW5nZUVycm9yIiwiam9pbiIsImFwaVZlcnNpb24iLCJWYXVsdENsaWVudCIsIkV2ZW50RW1pdHRlciIsInRpbWVzdGFtcCIsInRva2VuIiwibmFtZSIsInNlcnZlclVybCIsImtleU1hbmFnZXIiLCJ3ZWxsS25vd25DdnNDb25maWd1cmF0aW9uIiwiZGVmYXVsdEV2ZW50cyIsImVzIiwic3VwZXIiLCJjYXB0dXJlUmVqZWN0aW9ucyIsImNvbm5lY3RlZCIsImNsb3NlIiwiY29uZmxpY3QiLCJlcnJvciIsImdldFdlbGxLbm93bkN2c0NvbmZpZ3VyYXRpb24iLCJlbWl0RXJyb3IiLCJjdnNDb25mIiwidmF1bHRfY29uZmlndXJhdGlvbiIsImtleV9kZXJpdmF0aW9uIiwiQXhpb3NFcnJvciIsInJlc3BvbnNlIiwiZGF0YSIsImxvZ291dCIsImVtaXQiLCJyZXMiLCJheGlvcyIsImdldCIsIkV2ZW50U291cmNlIiwiZXZlbnRzX2VuZHBvaW50IiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJvbm1lc3NhZ2UiLCJtc2ciLCJjb25zb2xlIiwibG9nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJKU09OIiwicGFyc2UiLCJvbmVycm9yIiwicmVxQm9keSIsImF1dGhrZXkiLCJwb3N0IiwidjIiLCJ0b2tlbl9lbmRwb2ludCIsInN0YXR1cyIsImJvZHkiLCJpbml0RXZlbnRTb3VyY2VDbGllbnQiLCJ0aW1lc3RhbXBfZW5kcG9pbnQiLCJ2YXVsdF9lbmRwb2ludCIsInN0b3JhZ2UiLCJmcm9tIiwiZm9yY2UiLCJyZW1vdGVUaW1lc3RhbXAiLCJnZXRSZW1vdGVTdG9yYWdlVGltZXN0YW1wIiwicmVxdWVzdEJvZHkiLCJkZWxldGUiLCJyZWdpc3RyYXRpb25fY29uZmlndXJhdGlvbiIsInB1YmxpY19qd2tfZW5kcG9pbnQiLCJqd2siXSwibWFwcGluZ3MiOiI2UUFHYUEsRUFDTUMsSUFDUkMsSUFFVEMsWUFBYUYsRUFBZ0JDLEdBQzNCRSxLQUFLSCxJQUFNQSxFQUNYRyxLQUFLRixJQUFNQSxDQUNaLENBRURHLFFBQVNDLEdBRVAsTUFBTUMsRUFBS0MsRUFBWSxJQUdqQkMsRUFBU0MsRUFBZU4sS0FBS0YsSUFBS0UsS0FBS0gsSUFBS00sR0FHNUNJLEVBQVlDLE9BQU9DLE9BQU8sQ0FBQ0osRUFBT0ssT0FBT1IsR0FBUUcsRUFBT00sVUFHeERDLEVBQU1QLEVBQU9RLGFBR25CLE9BQU9MLE9BQU9DLE9BQU8sQ0FBQ04sRUFBSVMsRUFBS0wsR0FDaEMsQ0FFRE8sUUFBU1osR0FFUCxNQUFNQyxFQUFLRCxFQUFNYSxTQUFTLEVBQUcsSUFDdkJILEVBQU1WLEVBQU1hLFNBQVMsR0FBSSxJQUN6QkMsRUFBYWQsRUFBTWEsU0FBUyxJQUc1QkUsRUFBV0MsRUFBaUJsQixLQUFLRixJQUFLRSxLQUFLSCxJQUFLTSxHQUl0RCxPQUhBYyxFQUFTRSxXQUFXUCxHQUdiSixPQUFPQyxPQUFPLENBQUNRLEVBQVNQLE9BQU9NLEdBQWFDLEVBQVNOLFNBQzdELFFDMUJVUyxFQUNIQyxRQUNB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
