import{randomBytes as t,createCipheriv as e,createDecipheriv as i,createHash as n,scrypt as s,createSecretKey as a}from"crypto";import o,{AxiosError as r}from"axios";import{EventEmitter as u}from"events";import h from"eventsource";import{config as c}from"dotenv";class l{key;alg;constructor(t,e){this.key=t,this.alg=e}encrypt(i){const n=t(16),s=e(this.alg,this.key,n),a=Buffer.concat([s.update(i),s.final()]),o=s.getAuthTag();return Buffer.concat([n,o,a])}decrypt(t){const e=t.subarray(0,16),n=t.subarray(16,32),s=t.subarray(32),a=i(this.alg,this.key,e);return a.setAuthTag(n),Buffer.concat([a.update(s),a.final()])}}class d{_encKey;_authKey;username;derivationOptions;initialized;_initialized;constructor(t,e,i){this.username=t,this.derivationOptions=i,this._initialized=!1,this.initialized=this.init(e)}async init(t){const{master:e,auth:i,enc:n}=this.derivationOptions,s=p(e.salt_hashing_algorithm,e.salt_pattern,{username:this.username}),a=await m(t,{...e,salt:s}),o=p(i.salt_hashing_algorithm,i.salt_pattern,{username:this.username}),r=p(n.salt_hashing_algorithm,n.salt_pattern,{username:this.username}),[u,h]=await Promise.all([m(a,{...i,salt:o}),m(a,{...n,salt:r})]);this._authKey=u,this._encKey=new l(h,n.enc_algorithm),this._initialized=!0}get authKey(){if(!this._initialized)throw new Error("Unable to get authKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._authKey.export().toString("base64url")}get encKey(){if(!this._initialized)throw new Error("Unable to get encKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._encKey}}function p(t,e,i){let s="";for(const t in i)s=e.replace(t,i[t]);return n(t).update(s).digest()}async function m(t,e){const i={...e.alg_options,maxmem:256*e.alg_options.N*e.alg_options.r},n="string"==typeof t?t:t.export(),o=new Promise(((t,o)=>{s(n,e.salt,e.derived_key_length,i,((e,i)=>{null!==e&&o(e),t(a(i))}))}));return await o}class w extends Error{data;message;constructor(t,e,i){super(t,i),this.name="VaultError",this.data=e,this.message=t}static from(t){if(t instanceof w)return t;if(t instanceof Event)return new w("sse-connection-error",t,{cause:"Likely issues connecting to the events endpoint of the cloud vault server"});if(t instanceof r){if("Unauthorized"===t.response?.data.name)return new w("unauthorized",void 0);if(404===t.response?.status&&"no storage"===t.response.data.name)return new w("no-uploadded-storage",void 0);const e={request:{method:t.config?.method?.toLocaleUpperCase(),url:t.config?.url,headers:t.config?.headers,data:t.config?.data},response:{status:t.response?.status,headers:t.response?.headers,data:t.response?.data}};return new w("http-connection-error",e)}if(t instanceof Error){const e=new w("error",t,{cause:t.cause});return e.stack=t.stack,e}return new w("unknown",t)}}var g={get:async function(t,e){const i={"Content-Type":"application/json"};void 0!==e?.bearerToken&&(i.Authorization="Bearer "+e.bearerToken);const n=await o.get(t,{headers:i}).catch((t=>{throw w.from(t)}));if(void 0!==e?.responseStatus&&n.status!==e.responseStatus)throw new w("validation",{description:`Received HTTP status ${n.status} does not match the expected one (${e.responseStatus})`},{cause:"HTTP status does not match the expected one"});return n.data},post:async function(t,e,i){const n={"Content-Type":"application/json"};void 0!==i?.bearerToken&&(n.Authorization="Bearer "+i.bearerToken);const s=await o.post(t,e,{headers:n}).catch((t=>{throw w.from(t)}));if(void 0!==i?.responseStatus&&s.status!==i.responseStatus)throw new w("validation",{description:`Received HTTP status ${s.status} does not match the expected one (${i.responseStatus})`},{cause:"HTTP status does not match the expected one"});return s.data},put:async function(t,e,i){const n={"Content-Type":"application/json"};void 0!==i?.bearerToken&&(n.Authorization="Bearer "+i.bearerToken);const s=await o.put(t,e,{headers:n}).catch((t=>{throw w.from(t)}));if(void 0!==i?.responseStatus&&s.status!==i.responseStatus)throw new w("validation",{description:`Received HTTP status ${s.status} does not match the expected one (${i.responseStatus})`},{cause:"HTTP status does not match the expected one"});return s.data},delete:async function(t,e){const i={"Content-Type":"application/json"};void 0!==e?.bearerToken&&(i.Authorization="Bearer "+e.bearerToken);const n=await o.delete(t,{headers:i}).catch((t=>{throw w.from(t)}));if(void 0!==e?.responseStatus&&n.status!==e.responseStatus)throw new w("validation",{description:`Received HTTP status ${n.status} does not match the expected one (${e.responseStatus})`},{cause:"HTTP status does not match the expected one"});return n.data}};c();const v=(t,e)=>{let i=`Invalid value for ${t}. `;return void 0!==e&&(i+=`Allowed values are ${e} `),i},f=["0","false","FALSE"],y=["1","true","FALSE"],k=f.concat(y);function _(t,e){const i=void 0===(n=process.env[t])?"":n;var n;const s=(e=e??{})?.isBoolean??!1;if(s&&(e={...e,allowedValues:k}),""===i){if(void 0!==e.defaultValue)return e.defaultValue;if(void 0!==e.allowedValues&&!e.allowedValues.includes(""))throw new RangeError(v(t,e.allowedValues.join(", ")))}if(s&&y.includes(i))return!0;if(s&&f.includes(i))return!1;if(void 0!==e.allowedValues&&!e.allowedValues.includes(i))throw new RangeError(v(t,e.allowedValues.join(", ")));return i}_("NODE_ENV",{defaultValue:"production",allowedValues:["production","development"]});const z="v"+_("npm_package_version",{defaultValue:"0.0.1"})[0];class T extends u{timestamp;token;name;serverUrl;username;password;keyManager;wellKnownCvsConfiguration;initialized;es;constructor(e,i,n,s){super({captureRejections:!0}),this.name=s??t(16).toString("hex"),this.serverUrl=e,this.username=i,this.password=n,this.initialized=this.init()}emit(t,...e){return super.emit(t,...e)}on(t,e){return super.on(t,e)}once(t,e){return super.once(t,e)}async init(){try{await this.getWellKnownCvsConfiguration();const t=this.wellKnownCvsConfiguration;this.keyManager=new d(this.username,this.password,t.vault_configuration[z].key_derivation),await this.keyManager.initialized,delete this.password}catch(t){throw w.from(t)}}async getWellKnownCvsConfiguration(){this.wellKnownCvsConfiguration=await g.get(this.serverUrl+"/.well-known/cvs-configuration",{responseStatus:200})}async initEventSourceClient(){if(void 0===this.token)throw new w("unauthorized",void 0);const t=this.wellKnownCvsConfiguration;this.es=new h(this.serverUrl+t.vault_configuration[z].events_endpoint,{headers:{Authorization:"Bearer "+this.token}}),this.es.onmessage=t=>{console.log(t)},this.es.addEventListener("connected",(t=>{const e=JSON.parse(t.data);this.timestamp=e.timestamp,this.emit("connected",e.timestamp)})),this.es.addEventListener("storage-updated",(t=>{const e=JSON.parse(t.data);e.timestamp!==this.timestamp&&(this.timestamp=e.timestamp,this.emit("storage-updated",this.timestamp))})),this.es.addEventListener("storage-deleted",(t=>{delete this.timestamp,this.logout(),this.emit("storage-deleted")})),this.es.onerror=t=>{this.emitError(t)}}emitError(t){const e=w.from(t);switch(e.message){case"unauthorized":this.logout(),this.emit("logged-out");break;case"sse-connection-error":this.emit("connection-error",e);break;default:this.emit("error",e)}}logout(){this.es?.close(),this.token=void 0,this.emit("logged-out")}async getAuthKey(){return await this.initialized.catch((t=>{throw new w("not-initialized",t)})),this.keyManager.authKey}async login(){await this.initialized.catch((t=>{throw new w("not-initialized",t)}));const t={username:this.username,authkey:this.keyManager.authKey},e=this.wellKnownCvsConfiguration,i=await g.post(this.serverUrl+e.vault_configuration.v2.token_endpoint,t,{responseStatus:200});this.token=i.token,await this.initEventSourceClient().catch((t=>{throw w.from(t)}))}async getRemoteStorageTimestamp(){if(await this.initialized.catch((t=>{throw new w("not-initialized",t)})),void 0===this.token)throw new w("unauthorized",void 0);const t=this.wellKnownCvsConfiguration,e=await g.get(this.serverUrl+t.vault_configuration[z].timestamp_endpoint,{bearerToken:this.token,responseStatus:200});return(this.timestamp??0)<e.timestamp&&(this.timestamp=e.timestamp),e.timestamp}async getStorage(){if(await this.initialized.catch((t=>{throw new w("not-initialized",t)})),void 0===this.token)throw new w("unauthorized",void 0);try{const t=this.wellKnownCvsConfiguration,e=this.keyManager.encKey,i=await g.get(this.serverUrl+t.vault_configuration[z].vault_endpoint,{bearerToken:this.token,responseStatus:200});if(i.timestamp<(this.timestamp??0))throw new w("validation",{description:"WEIRD!!! Received timestamp is older than the one received in previous events"});const n=e.decrypt(Buffer.from(i.ciphertext,"base64url"));return this.timestamp=i.timestamp,{storage:n,timestamp:i.timestamp}}catch(t){throw w.from(t)}}async updateStorage(t,e=!1){if(await this.initialized.catch((t=>{throw new w("not-initialized",t)})),void 0===this.token)throw new w("unauthorized",void 0);if(void 0!==this.timestamp&&(t.timestamp??0)<this.timestamp)throw new w("conflict",{localTimestamp:t.timestamp,remoteTimestamp:this.timestamp});const i=this.wellKnownCvsConfiguration,n=this.keyManager.encKey;if(e){const e=await this.getRemoteStorageTimestamp();t.timestamp=null!==e?e:void 0}const s={ciphertext:n.encrypt(t.storage).toString("base64url"),timestamp:t.timestamp},a=await g.post(this.serverUrl+i.vault_configuration[z].vault_endpoint,s,{bearerToken:this.token,responseStatus:201});this.timestamp=a.timestamp}async deleteStorage(){if(await this.initialized.catch((t=>{throw new w("not-initialized",t)})),void 0===this.token)throw new w("unauthorized",void 0);const t=this.wellKnownCvsConfiguration;await g.delete(this.serverUrl+t.vault_configuration[z].vault_endpoint,{bearerToken:this.token,responseStatus:204}),delete this.timestamp,this.logout()}async getServerPublicKey(){await this.getWellKnownCvsConfiguration();const t=this.wellKnownCvsConfiguration;return(await g.get(this.serverUrl+t.registration_configuration.public_jwk_endpoint,{responseStatus:200})).jwk}}export{d as KeyManager,l as SecretKey,T as VaultClient,m as deriveKey};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubm9kZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3RzL3NlY3JldC1rZXkudHMiLCIuLi8uLi9zcmMvdHMva2V5LW1hbmFnZXIudHMiLCIuLi8uLi9zcmMvdHMvZXJyb3IudHMiLCIuLi8uLi9zcmMvdHMvcmVxdWVzdC50cyIsIi4uLy4uL3NyYy90cy9jb25maWcvcGFyc2VQcm9jZXNzRW52VmFyLnRzIiwiLi4vLi4vc3JjL3RzL2NvbmZpZy9pbmRleC50cyIsIi4uLy4uL3NyYy90cy92YXVsdC1jbGllbnQudHMiXSwic291cmNlc0NvbnRlbnQiOm51bGwsIm5hbWVzIjpbIlNlY3JldEtleSIsImtleSIsImFsZyIsImNvbnN0cnVjdG9yIiwidGhpcyIsImVuY3J5cHQiLCJpbnB1dCIsIml2IiwicmFuZG9tQnl0ZXMiLCJjaXBoZXIiLCJjcmVhdGVDaXBoZXJpdiIsImVuY3J5cHRlZCIsIkJ1ZmZlciIsImNvbmNhdCIsInVwZGF0ZSIsImZpbmFsIiwidGFnIiwiZ2V0QXV0aFRhZyIsImRlY3J5cHQiLCJzdWJhcnJheSIsImNpcGhlcnRleHQiLCJkZWNpcGhlciIsImNyZWF0ZURlY2lwaGVyaXYiLCJzZXRBdXRoVGFnIiwiS2V5TWFuYWdlciIsIl9lbmNLZXkiLCJfYXV0aEtleSIsInVzZXJuYW1lIiwiZGVyaXZhdGlvbk9wdGlvbnMiLCJpbml0aWFsaXplZCIsIl9pbml0aWFsaXplZCIsInBhc3N3b3JkIiwib3B0cyIsImluaXQiLCJhc3luYyIsIm1hc3RlciIsImF1dGgiLCJlbmMiLCJtYXN0ZXJTYWx0IiwiX3NhbHQiLCJzYWx0X2hhc2hpbmdfYWxnb3JpdGhtIiwic2FsdF9wYXR0ZXJuIiwibWFzdGVyS2V5IiwiZGVyaXZlS2V5Iiwic2FsdCIsImF1dGhTYWx0IiwiZW5jU2FsdCIsImF1dGhLZXkiLCJlbmNLZXkiLCJQcm9taXNlIiwiYWxsIiwiZW5jX2FsZ29yaXRobSIsIkVycm9yIiwiY2F1c2UiLCJleHBvcnQiLCJ0b1N0cmluZyIsImhhc2hBbGdvcml0aG0iLCJzYWx0UGF0dGVybiIsInJlcGxhY2VtZW50cyIsInNhbHRTdHJpbmciLCJzZWFyY2hWYWx1ZSIsInJlcGxhY2UiLCJjcmVhdGVIYXNoIiwiZGlnZXN0IiwicGFzc3dvcmRPcktleSIsInNjcnlwdE9wdGlvbnMiLCJhbGdfb3B0aW9ucyIsIm1heG1lbSIsIk4iLCJyIiwia2V5UHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzY3J5cHQiLCJkZXJpdmVkX2tleV9sZW5ndGgiLCJlcnIiLCJjcmVhdGVTZWNyZXRLZXkiLCJWYXVsdEVycm9yIiwiZGF0YSIsIm1lc3NhZ2UiLCJvcHRpb25zIiwic3VwZXIiLCJuYW1lIiwic3RhdGljIiwiZXJyb3IiLCJFdmVudCIsIkF4aW9zRXJyb3IiLCJyZXNwb25zZSIsInVuZGVmaW5lZCIsInN0YXR1cyIsInZhdWx0Q29ubkVycm9yIiwicmVxdWVzdCIsIm1ldGhvZCIsImNvbmZpZyIsInRvTG9jYWxlVXBwZXJDYXNlIiwidXJsIiwiaGVhZGVycyIsInZhdWx0RXJyb3IiLCJzdGFjayIsImdldCIsImJlYXJlclRva2VuIiwiQXV0aG9yaXphdGlvbiIsInJlcyIsImF4aW9zIiwiY2F0Y2giLCJmcm9tIiwicmVzcG9uc2VTdGF0dXMiLCJkZXNjcmlwdGlvbiIsInBvc3QiLCJyZXF1ZXN0Qm9keSIsInB1dCIsImRlbGV0ZSIsImxvYWRFbnZGaWxlIiwiaW52YWxpZE1zZyIsInZhcm5hbWUiLCJ2YWx1ZXMiLCJyZXQiLCJib29sZWFuRmFsc2VBbGxvd2VkVmFsdWVzIiwiYm9vbGVhblRydWVBbGxvd2VkVmFsdWVzIiwiYm9vbGVhbkFsbG93ZWRWYWx1ZXMiLCJwYXJzZVByb2NjZXNzRW52VmFyIiwidmFyTmFtZSIsInZhbHVlIiwiYSIsInByb2Nlc3MiLCJlbnYiLCJpc0Jvb2xlYW4iLCJhbGxvd2VkVmFsdWVzIiwiZGVmYXVsdFZhbHVlIiwiaW5jbHVkZXMiLCJSYW5nZUVycm9yIiwiam9pbiIsImFwaVZlcnNpb24iLCJWYXVsdENsaWVudCIsIkV2ZW50RW1pdHRlciIsInRpbWVzdGFtcCIsInRva2VuIiwic2VydmVyVXJsIiwia2V5TWFuYWdlciIsIndlbGxLbm93bkN2c0NvbmZpZ3VyYXRpb24iLCJlcyIsImNhcHR1cmVSZWplY3Rpb25zIiwiZW1pdCIsImV2ZW50TmFtZSIsImFyZ3MiLCJvbiIsImxpc3RlbmVyIiwib25jZSIsImdldFdlbGxLbm93bkN2c0NvbmZpZ3VyYXRpb24iLCJjdnNDb25mIiwidmF1bHRfY29uZmlndXJhdGlvbiIsImtleV9kZXJpdmF0aW9uIiwiRXZlbnRTb3VyY2UiLCJldmVudHNfZW5kcG9pbnQiLCJvbm1lc3NhZ2UiLCJtc2ciLCJjb25zb2xlIiwibG9nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJKU09OIiwicGFyc2UiLCJsb2dvdXQiLCJvbmVycm9yIiwiZW1pdEVycm9yIiwiY2xvc2UiLCJyZXFCb2R5IiwiYXV0aGtleSIsInYyIiwidG9rZW5fZW5kcG9pbnQiLCJpbml0RXZlbnRTb3VyY2VDbGllbnQiLCJ0aW1lc3RhbXBfZW5kcG9pbnQiLCJ2YXVsdF9lbmRwb2ludCIsInN0b3JhZ2UiLCJmb3JjZSIsImxvY2FsVGltZXN0YW1wIiwicmVtb3RlVGltZXN0YW1wIiwiZ2V0UmVtb3RlU3RvcmFnZVRpbWVzdGFtcCIsInJlZ2lzdHJhdGlvbl9jb25maWd1cmF0aW9uIiwicHVibGljX2p3a19lbmRwb2ludCIsImp3ayJdLCJtYXBwaW5ncyI6IjZRQUdhQSxFQUNNQyxJQUNSQyxJQUVUQyxZQUFhRixFQUFnQkMsR0FDM0JFLEtBQUtILElBQU1BLEVBQ1hHLEtBQUtGLElBQU1BLENBQ1osQ0FFREcsUUFBU0MsR0FFUCxNQUFNQyxFQUFLQyxFQUFZLElBR2pCQyxFQUFTQyxFQUFlTixLQUFLRixJQUFLRSxLQUFLSCxJQUFLTSxHQUc1Q0ksRUFBWUMsT0FBT0MsT0FBTyxDQUFDSixFQUFPSyxPQUFPUixHQUFRRyxFQUFPTSxVQUd4REMsRUFBTVAsRUFBT1EsYUFHbkIsT0FBT0wsT0FBT0MsT0FBTyxDQUFDTixFQUFJ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
