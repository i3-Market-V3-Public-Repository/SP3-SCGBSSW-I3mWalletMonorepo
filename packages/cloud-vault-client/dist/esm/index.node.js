import{randomBytes as t,createCipheriv as e,createDecipheriv as i,createHash as n,scrypt as a,createSecretKey as s}from"crypto";import o,{AxiosError as r}from"axios";import{EventEmitter as u}from"events";import c from"eventsource";import{config as h}from"dotenv";class d{key;alg;constructor(t,e){this.key=t,this.alg=e}encrypt(i){const n=t(16),a=e(this.alg,this.key,n),s=Buffer.concat([a.update(i),a.final()]),o=a.getAuthTag();return Buffer.concat([n,o,s])}decrypt(t){const e=t.subarray(0,16),n=t.subarray(16,32),a=t.subarray(32),s=i(this.alg,this.key,e);return s.setAuthTag(n),Buffer.concat([s.update(a),s.final()])}}class l{_encKey;_authKey;username;derivationOptions;initialized;_initialized;constructor(t,e,i){this.username=t,this.derivationOptions=i,this._initialized=!1,this.initialized=this.init(e)}async init(t){const{master:e,auth:i,enc:n}=this.derivationOptions,a=p(e.salt_hashing_algorithm,e.salt_pattern,{username:this.username}),s=await m(t,{...e,salt:a}),o=p(i.salt_hashing_algorithm,i.salt_pattern,{username:this.username}),r=p(n.salt_hashing_algorithm,n.salt_pattern,{username:this.username}),[u,c]=await Promise.all([m(s,{...i,salt:o}),m(s,{...n,salt:r})]);this._authKey=u,this._encKey=new d(c,n.enc_algorithm),this._initialized=!0}get authKey(){if(!this._initialized)throw new Error("Unable to get authKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._authKey.export().toString("base64url")}get encKey(){if(!this._initialized)throw new Error("Unable to get encKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._encKey}}function p(t,e,i){let a="";for(const t in i)a=e.replace(t,i[t]);return n(t).update(a).digest()}async function m(t,e){const i={...e.alg_options,maxmem:256*e.alg_options.N*e.alg_options.r},n="string"==typeof t?t:t.export(),o=new Promise(((t,o)=>{a(n,e.salt,e.derived_key_length,i,((e,i)=>{null!==e&&o(e),t(s(i))}))}));return await o}class w extends Error{data;message;constructor(t,e,i){super(t,i),this.name="VaultError",this.data=e,this.message=t}static from(t){if(t instanceof w)return t;if(t instanceof Object&&"Event"===t.constructor.name)return new w("sse-connection-error",t,{cause:"Likely issues connecting to the events endpoint of the cloud vault server"});if(t instanceof r){const e=t.response?.data;switch(e.name){case"no-storage":return new w("no-uploaded-storage",void 0);case"invalid-credentials":return new w("invalid-credentials",void 0);case"quota-exceeded":return new w("quota-exceeded",e.description);case"unauthorized":case"not-registered":return new w("unauthorized",void 0)}const i={request:{method:t.config?.method?.toLocaleUpperCase(),url:t.config?.url,headers:t.config?.headers,data:t.config?.data},response:{status:t.response?.status,headers:t.response?.headers,data:t.response?.data}};return new w("http-connection-error",i)}if(t instanceof Error){const e=new w("error",t,{cause:t.cause});return e.stack=t.stack,e}return new w("unknown",t)}}function v(t,e){return t.message===e}var g={get:async function(t,e){const i={"Content-Type":"application/json"};void 0!==e?.bearerToken&&(i.Authorization="Bearer "+e.bearerToken);const n=await o.get(t,{headers:i}).catch((t=>{throw w.from(t)}));if(void 0!==e?.responseStatus&&n.status!==e.responseStatus)throw new w("validation",{description:`Received HTTP status ${n.status} does not match the expected one (${e.responseStatus})`},{cause:"HTTP status does not match the expected one"});return n.data},post:async function(t,e,i){const n={"Content-Type":"application/json"};void 0!==i?.bearerToken&&(n.Authorization="Bearer "+i.bearerToken);const a=await o.post(t,e,{headers:n}).catch((t=>{throw w.from(t)}));if(void 0!==i?.responseStatus&&a.status!==i.responseStatus)throw new w("validation",{description:`Received HTTP status ${a.status} does not match the expected one (${i.responseStatus})`},{cause:"HTTP status does not match the expected one"});return a.data},put:async function(t,e,i){const n={"Content-Type":"application/json"};void 0!==i?.bearerToken&&(n.Authorization="Bearer "+i.bearerToken);const a=await o.put(t,e,{headers:n}).catch((t=>{throw w.from(t)}));if(void 0!==i?.responseStatus&&a.status!==i.responseStatus)throw new w("validation",{description:`Received HTTP status ${a.status} does not match the expected one (${i.responseStatus})`},{cause:"HTTP status does not match the expected one"});return a.data},delete:async function(t,e){const i={"Content-Type":"application/json"};void 0!==e?.bearerToken&&(i.Authorization="Bearer "+e.bearerToken);const n=await o.delete(t,{headers:i}).catch((t=>{throw w.from(t)}));if(void 0!==e?.responseStatus&&n.status!==e.responseStatus)throw new w("validation",{description:`Received HTTP status ${n.status} does not match the expected one (${e.responseStatus})`},{cause:"HTTP status does not match the expected one"});return n.data}};h();const f=(t,e)=>{let i=`Invalid value for ${t}. `;return void 0!==e&&(i+=`Allowed values are ${e} `),i},y=["0","false","FALSE"],k=["1","true","FALSE"],_=y.concat(k);function z(t,e){const i=void 0===(n=process.env[t])?"":n;var n;const a=(e=e??{})?.isBoolean??!1;if(a&&(e={...e,allowedValues:_}),""===i){if(void 0!==e.defaultValue)return e.defaultValue;if(void 0!==e.allowedValues&&!e.allowedValues.includes(""))throw new RangeError(f(t,e.allowedValues.join(", ")))}if(a&&k.includes(i))return!0;if(a&&y.includes(i))return!1;if(void 0!==e.allowedValues&&!e.allowedValues.includes(i))throw new RangeError(f(t,e.allowedValues.join(", ")));return i}z("NODE_ENV",{defaultValue:"production",allowedValues:["production","development"]});const T="v"+z("npm_package_version",{defaultValue:"0.0.1"})[0],S=1,C=0;class K extends u{timestamp;token;name;serverUrl;wellKnownCvsConfiguration;status;_initialized;keyManager;es;constructor(e,i){super({captureRejections:!0}),this.name=i??t(16).toString("hex"),this.serverUrl=e,this.status=0,this._initialized=this.init()}get initialized(){return new Promise(((t,e)=>{this._initialized.then((()=>{t()})).catch((()=>{this._initialized=this.init().then((()=>{t()})),this._initialized.catch((t=>{e(t)}))}))}))}emit(t,...e){return super.emit(t,...e)}on(t,e){return super.on(t,e)}once(t,e){return super.once(t,e)}async init(){this.wellKnownCvsConfiguration=await K.getWellKnownCvsConfiguration(this.serverUrl).catch((t=>{throw new w("not-initialized",t)})),void 0!==this.token&&await this.initEventSourceClient().catch((t=>{throw w.from(t)}))}async initEventSourceClient(){if(void 0===this.token)throw new w("unauthorized",void 0);const t=this.wellKnownCvsConfiguration;this.es=new c(this.serverUrl+t.vault_configuration[T].events_endpoint,{headers:{Authorization:"Bearer "+this.token}}),this.es.addEventListener("connected",(t=>{const e=JSON.parse(t.data);this.timestamp=e.timestamp,this.status=1,this.emit("connected",e.timestamp)})),this.es.addEventListener("storage-updated",(t=>{const e=JSON.parse(t.data);e.timestamp!==this.timestamp&&(this.timestamp=e.timestamp,this.emit("storage-updated",this.timestamp))})),this.es.addEventListener("storage-deleted",(t=>{delete this.timestamp,this.logout(),this.emit("storage-deleted")})),this.es.onerror=t=>{1===this.status&&(this.status=0,this.emit("disconnected"))}}async initKeyManager(t,e){await this.initialized;const i=this.wellKnownCvsConfiguration;this.keyManager=new l(t,e,i.vault_configuration[T].key_derivation),await this.keyManager.initialized}logout(){this.es?.close(),this.token=void 0,this.emit("disconnected"),this.emit("unauthorized")}async login(t,e,i){if(await this.initialized,await this.initKeyManager(t,e),void 0===i){const e={username:t,authkey:this.keyManager.authKey},i=this.wellKnownCvsConfiguration,n=await g.post(this.serverUrl+i.vault_configuration.v2.token_endpoint,e,{responseStatus:200});this.token=n.token}else this.token=i;await this.initEventSourceClient().catch((t=>{throw w.from(t)}))}async getRemoteStorageTimestamp(){if(await this.initialized,void 0===this.token)throw new w("unauthorized",void 0);const t=this.wellKnownCvsConfiguration,e=await g.get(this.serverUrl+t.vault_configuration[T].timestamp_endpoint,{bearerToken:this.token,responseStatus:200});return(this.timestamp??0)<e.timestamp&&(this.timestamp=e.timestamp),e.timestamp}async getStorage(){if(await this.initialized,void 0===this.token||void 0===this.keyManager)throw new w("unauthorized",void 0);try{const t=this.wellKnownCvsConfiguration,e=await g.get(this.serverUrl+t.vault_configuration[T].vault_endpoint,{bearerToken:this.token,responseStatus:200});if(e.timestamp<(this.timestamp??0))throw new w("validation",{description:"WEIRD!!! Received timestamp is older than the one received in previous events"});const i=this.keyManager.encKey.decrypt(Buffer.from(e.ciphertext,"base64url"));return this.timestamp=e.timestamp,{storage:i,timestamp:e.timestamp}}catch(t){throw w.from(t)}}async updateStorage(t,e=!1){if(await this.initialized,void 0===this.token||void 0===this.keyManager)throw new w("unauthorized",void 0);if(void 0!==this.timestamp&&(t.timestamp??0)<this.timestamp)throw new w("conflict",{localTimestamp:t.timestamp,remoteTimestamp:this.timestamp});const i=this.wellKnownCvsConfiguration;if(e){const e=await this.getRemoteStorageTimestamp();t.timestamp=null!==e?e:void 0}const n={ciphertext:this.keyManager.encKey.encrypt(t.storage).toString("base64url"),timestamp:t.timestamp},a=await g.post(this.serverUrl+i.vault_configuration[T].vault_endpoint,n,{bearerToken:this.token,responseStatus:201});return this.timestamp=a.timestamp,this.timestamp}async deleteStorage(){if(await this.initialized,void 0===this.token)throw new w("unauthorized",void 0);const t=this.wellKnownCvsConfiguration;await g.delete(this.serverUrl+t.vault_configuration[T].vault_endpoint,{bearerToken:this.token,responseStatus:204}),delete this.timestamp,this.logout()}async getServerPublicKey(){await this.initialized;const t=this.wellKnownCvsConfiguration;return(await g.get(this.serverUrl+t.registration_configuration.public_jwk_endpoint,{responseStatus:200})).jwk}static async getWellKnownCvsConfiguration(t){return await g.get(t+"/.well-known/cvs-configuration",{responseStatus:200})}static async computeAuthKey(t,e,i){const n=await K.getWellKnownCvsConfiguration(t),a=new l(e,i,n.vault_configuration[T].key_derivation);return await a.initialized,a.authKey}}export{l as KeyManager,d as SecretKey,S as VAULT_CONNECTED,C as VAULT_DISCONNECTED,K as VaultClient,w as VaultError,v as checkErrorType,m as deriveKey};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubm9kZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3RzL3NlY3JldC1rZXkudHMiLCIuLi8uLi9zcmMvdHMva2V5LW1hbmFnZXIudHMiLCIuLi8uLi9zcmMvdHMvZXJyb3IudHMiLCIuLi8uLi9zcmMvdHMvcmVxdWVzdC50cyIsIi4uLy4uL3NyYy90cy9jb25maWcvcGFyc2VQcm9jZXNzRW52VmFyLnRzIiwiLi4vLi4vc3JjL3RzL2NvbmZpZy9pbmRleC50cyIsIi4uLy4uL3NyYy90cy92YXVsdC1jbGllbnQudHMiXSwic291cmNlc0NvbnRlbnQiOm51bGwsIm5hbWVzIjpbIlNlY3JldEtleSIsImtleSIsImFsZyIsImNvbnN0cnVjdG9yIiwidGhpcyIsImVuY3J5cHQiLCJpbnB1dCIsIml2IiwicmFuZG9tQnl0ZXMiLCJjaXBoZXIiLCJjcmVhdGVDaXBoZXJpdiIsImVuY3J5cHRlZCIsIkJ1ZmZlciIsImNvbmNhdCIsInVwZGF0ZSIsImZpbmFsIiwidGFnIiwiZ2V0QXV0aFRhZyIsImRlY3J5cHQiLCJzdWJhcnJheSIsImNpcGhlcnRleHQiLCJkZWNpcGhlciIsImNyZWF0ZURlY2lwaGVyaXYiLCJzZXRBdXRoVGFnIiwiS2V5TWFuYWdlciIsIl9lbmNLZXkiLCJfYXV0aEtleSIsInVzZXJuYW1lIiwiZGVyaXZhdGlvbk9wdGlvbnMiLCJpbml0aWFsaXplZCIsIl9pbml0aWFsaXplZCIsInBhc3N3b3JkIiwib3B0cyIsImluaXQiLCJhc3luYyIsIm1hc3RlciIsImF1dGgiLCJlbmMiLCJtYXN0ZXJTYWx0IiwiX3NhbHQiLCJzYWx0X2hhc2hpbmdfYWxnb3JpdGhtIiwic2FsdF9wYXR0ZXJuIiwibWFzdGVyS2V5IiwiZGVyaXZlS2V5Iiwic2FsdCIsImF1dGhTYWx0IiwiZW5jU2FsdCIsImF1dGhLZXkiLCJlbmNLZXkiLCJQcm9taXNlIiwiYWxsIiwiZW5jX2FsZ29yaXRobSIsIkVycm9yIiwiY2F1c2UiLCJleHBvcnQiLCJ0b1N0cmluZyIsImhhc2hBbGdvcml0aG0iLCJzYWx0UGF0dGVybiIsInJlcGxhY2VtZW50cyIsInNhbHRTdHJpbmciLCJzZWFyY2hWYWx1ZSIsInJlcGxhY2UiLCJjcmVhdGVIYXNoIiwiZGlnZXN0IiwicGFzc3dvcmRPcktleSIsInNjcnlwdE9wdGlvbnMiLCJhbGdfb3B0aW9ucyIsIm1heG1lbSIsIk4iLCJyIiwia2V5UHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzY3J5cHQiLCJkZXJpdmVkX2tleV9sZW5ndGgiLCJlcnIiLCJjcmVhdGVTZWNyZXRLZXkiLCJWYXVsdEVycm9yIiwiZGF0YSIsIm1lc3NhZ2UiLCJvcHRpb25zIiwic3VwZXIiLCJuYW1lIiwic3RhdGljIiwiZXJyb3IiLCJPYmplY3QiLCJBeGlvc0Vycm9yIiwicmVzcG9uc2UiLCJ1bmRlZmluZWQiLCJkZXNjcmlwdGlvbiIsInZhdWx0Q29ubkVycm9yIiwicmVxdWVzdCIsIm1ldGhvZCIsImNvbmZpZyIsInRvTG9jYWxlVXBwZXJDYXNlIiwidXJsIiwiaGVhZGVycyIsInN0YXR1cyIsInZhdWx0RXJyb3IiLCJzdGFjayIsImNoZWNrRXJyb3JUeXBlIiwidHlwZSIsImdldCIsImJlYXJlclRva2VuIiwiQXV0aG9yaXphdGlvbiIsInJlcyIsImF4aW9zIiwiY2F0Y2giLCJmcm9tIiwicmVzcG9uc2VTdGF0dXMiLCJwb3N0IiwicmVxdWVzdEJvZHkiLCJwdXQiLCJkZWxldGUiLCJsb2FkRW52RmlsZSIsImludmFsaWRNc2ciLCJ2YXJuYW1lIiwidmFsdWVzIiwicmV0IiwiYm9vbGVhbkZhbHNlQWxsb3dlZFZhbHVlcyIsImJvb2xlYW5UcnVlQWxsb3dlZFZhbHVlcyIsImJvb2xlYW5BbGxvd2VkVmFsdWVzIiwicGFyc2VQcm9jY2Vzc0VudlZhciIsInZhck5hbWUiLCJ2YWx1ZSIsImEiLCJwcm9jZXNzIiwiZW52IiwiaXNCb29sZWFuIiwiYWxsb3dlZFZhbHVlcyIsImRlZmF1bHRWYWx1ZSIsImluY2x1ZGVzIiwiUmFuZ2VFcnJvciIsImpvaW4iLCJhcGlWZXJzaW9uIiwiVkFVTFRfQ09OTkVDVEVEIiwiVkFVTFRfRElTQ09OTkVDVEVEIiwiVmF1bHRDbGllbnQiLCJFdmVudEVtaXR0ZXIiLCJ0aW1lc3RhbXAiLCJ0b2tlbiIsInNlcnZlclVybCIsIndlbGxLbm93bkN2c0NvbmZpZ3VyYXRpb24iLCJrZXlNYW5hZ2VyIiwiZXMiLCJjYXB0dXJlUmVqZWN0aW9ucyIsInRoZW4iLCJyZWFzb24iLCJlbWl0IiwiZXZlbnROYW1lIiwiYXJncyIsIm9uIiwibGlzdGVuZXIiLCJvbmNlIiwiZ2V0V2VsbEtub3duQ3ZzQ29uZmlndXJhdGlvbiIsImluaXRFdmVudFNvdXJjZUNsaWVudCIsImN2c0NvbmYiLCJFdmVudFNvdXJjZSIsInZhdWx0X2NvbmZpZ3VyYXRpb24iLCJldmVudHNfZW5kcG9pbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsIm1zZyIsIkpTT04iLCJwYXJzZSIsImxvZ291dCIsIm9uZXJyb3IiLCJrZXlfZGVyaXZhdGlvbiIsImNsb3NlIiwiaW5pdEtleU1hbmFnZXIiLCJyZXFCb2R5IiwiYXV0aGtleSIsInYyIiwidG9rZW5fZW5kcG9pbnQiLCJ0aW1lc3RhbXBfZW5kcG9pbnQiLCJ2YXVsdF9lbmRwb2ludCIsInN0b3JhZ2UiLCJmb3JjZSIsImxvY2FsVGltZXN0YW1wIiwicmVtb3RlVGltZXN0YW1wIiwiZ2V0UmVtb3RlU3RvcmFnZVRpbWVzdGFtcCIsInJlZ2lzdHJhdGlvbl9jb25maWd1cmF0aW9uIiwicHVibGljX2p3a19lbmRwb2ludCIsImp3ayJdLCJtYXBwaW5ncyI6IjZRQUdhQSxFQUNNQyxJQUNSQyxJQUVUQyxZQUFhRixFQUFnQkMsR0FDM0JFLEtBQUtILElBQU1BLEVBQ1hHLEtBQUtGLElBQU1BLENBQ1osQ0FFREcsUUFBU0MsR0FFUCxNQUFNQyxFQUFLQyxFQUFZLElBR2pCQyxFQUFTQyxFQUFlTixLQUFLRixJQUFLRSxLQUFLSCxJQUFLTSxHQUc1Q0ksRUFBWUMsT0FBT0MsT0FBTyxDQUFDSixFQUFPSyxPQUFPUixHQUFRRyxF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
