import{randomBytes as t,createCipheriv as e,createDecipheriv as i,createHash as n,scrypt as a,createSecretKey as s}from"crypto";import o,{AxiosError as r}from"axios";import{EventEmitter as u}from"events";import c from"eventsource";import{config as h}from"dotenv";class l{key;alg;constructor(t,e){this.key=t,this.alg=e}encrypt(i){const n=t(16),a=e(this.alg,this.key,n),s=Buffer.concat([a.update(i),a.final()]),o=a.getAuthTag();return Buffer.concat([n,o,s])}decrypt(t){const e=t.subarray(0,16),n=t.subarray(16,32),a=t.subarray(32),s=i(this.alg,this.key,e);return s.setAuthTag(n),Buffer.concat([s.update(a),s.final()])}}class d{_encKey;_authKey;username;derivationOptions;initialized;_initialized;constructor(t,e,i){this.username=t,this.derivationOptions=i,this._initialized=!1,this.initialized=this.init(e)}async init(t){const{master:e,auth:i,enc:n}=this.derivationOptions,a=p(e.salt_hashing_algorithm,e.salt_pattern,{username:this.username}),s=await m(t,{...e,salt:a}),o=p(i.salt_hashing_algorithm,i.salt_pattern,{username:this.username}),r=p(n.salt_hashing_algorithm,n.salt_pattern,{username:this.username}),[u,c]=await Promise.all([m(s,{...i,salt:o}),m(s,{...n,salt:r})]);this._authKey=u,this._encKey=new l(c,n.enc_algorithm),this._initialized=!0}get authKey(){if(!this._initialized)throw new Error("Unable to get authKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._authKey.export().toString("base64url")}get encKey(){if(!this._initialized)throw new Error("Unable to get encKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._encKey}}function p(t,e,i){let a="";for(const t in i)a=e.replace(t,i[t]);return n(t).update(a).digest()}async function m(t,e){const i={...e.alg_options,maxmem:256*e.alg_options.N*e.alg_options.r},n="string"==typeof t?t:t.export(),o=new Promise(((t,o)=>{a(n,e.salt,e.derived_key_length,i,((e,i)=>{null!==e&&o(e),t(s(i))}))}));return await o}class w extends Error{data;message;constructor(t,e,i){super(t,i),this.name="VaultError",this.data=e,this.message=t}static from(t){if(t instanceof w)return t;if(t instanceof Event)return new w("sse-connection-error",t,{cause:"Likely issues connecting to the events endpoint of the cloud vault server"});if(t instanceof r){if("Unauthorized"===t.response?.data.name)return new w("unauthorized",void 0);if(404===t.response?.status&&"no storage"===t.response.data.name)return new w("no-uploaded-storage",void 0);if(404===t.response?.status&&"invalid credentials"===t.response.data.name)return new w("invalid-credentials",void 0);const e={request:{method:t.config?.method?.toLocaleUpperCase(),url:t.config?.url,headers:t.config?.headers,data:t.config?.data},response:{status:t.response?.status,headers:t.response?.headers,data:t.response?.data}};return new w("http-connection-error",e)}if(t instanceof Error){const e=new w("error",t,{cause:t.cause});return e.stack=t.stack,e}return new w("unknown",t)}}function g(t,e){return t.message===e}var v={get:async function(t,e){const i={"Content-Type":"application/json"};void 0!==e?.bearerToken&&(i.Authorization="Bearer "+e.bearerToken);const n=await o.get(t,{headers:i}).catch((t=>{throw w.from(t)}));if(void 0!==e?.responseStatus&&n.status!==e.responseStatus)throw new w("validation",{description:`Received HTTP status ${n.status} does not match the expected one (${e.responseStatus})`},{cause:"HTTP status does not match the expected one"});return n.data},post:async function(t,e,i){const n={"Content-Type":"application/json"};void 0!==i?.bearerToken&&(n.Authorization="Bearer "+i.bearerToken);const a=await o.post(t,e,{headers:n}).catch((t=>{throw w.from(t)}));if(void 0!==i?.responseStatus&&a.status!==i.responseStatus)throw new w("validation",{description:`Received HTTP status ${a.status} does not match the expected one (${i.responseStatus})`},{cause:"HTTP status does not match the expected one"});return a.data},put:async function(t,e,i){const n={"Content-Type":"application/json"};void 0!==i?.bearerToken&&(n.Authorization="Bearer "+i.bearerToken);const a=await o.put(t,e,{headers:n}).catch((t=>{throw w.from(t)}));if(void 0!==i?.responseStatus&&a.status!==i.responseStatus)throw new w("validation",{description:`Received HTTP status ${a.status} does not match the expected one (${i.responseStatus})`},{cause:"HTTP status does not match the expected one"});return a.data},delete:async function(t,e){const i={"Content-Type":"application/json"};void 0!==e?.bearerToken&&(i.Authorization="Bearer "+e.bearerToken);const n=await o.delete(t,{headers:i}).catch((t=>{throw w.from(t)}));if(void 0!==e?.responseStatus&&n.status!==e.responseStatus)throw new w("validation",{description:`Received HTTP status ${n.status} does not match the expected one (${e.responseStatus})`},{cause:"HTTP status does not match the expected one"});return n.data}};h();const f=(t,e)=>{let i=`Invalid value for ${t}. `;return void 0!==e&&(i+=`Allowed values are ${e} `),i},y=["0","false","FALSE"],k=["1","true","FALSE"],_=y.concat(k);function T(t,e){const i=void 0===(n=process.env[t])?"":n;var n;const a=(e=e??{})?.isBoolean??!1;if(a&&(e={...e,allowedValues:_}),""===i){if(void 0!==e.defaultValue)return e.defaultValue;if(void 0!==e.allowedValues&&!e.allowedValues.includes(""))throw new RangeError(f(t,e.allowedValues.join(", ")))}if(a&&k.includes(i))return!0;if(a&&y.includes(i))return!1;if(void 0!==e.allowedValues&&!e.allowedValues.includes(i))throw new RangeError(f(t,e.allowedValues.join(", ")));return i}T("NODE_ENV",{defaultValue:"production",allowedValues:["production","development"]});const z="v"+T("npm_package_version",{defaultValue:"0.0.1"})[0];class S extends u{timestamp;token;name;serverUrl;wellKnownCvsConfiguration;initialized;keyManager;es;constructor(e,i,n){super({captureRejections:!0}),this.name=n??t(16).toString("hex"),this.serverUrl=e,this.token=i,this.initialized=this.init()}emit(t,...e){return super.emit(t,...e)}on(t,e){return super.on(t,e)}once(t,e){return super.once(t,e)}async init(){this.wellKnownCvsConfiguration=await S.getWellKnownCvsConfiguration(this.serverUrl).catch((t=>{throw new w("not-initialized",t)})),void 0!==this.token&&await this.initEventSourceClient().catch((t=>{throw w.from(t)}))}async initEventSourceClient(){if(void 0===this.token)throw new w("unauthorized",void 0);const t=this.wellKnownCvsConfiguration;this.es=new c(this.serverUrl+t.vault_configuration[z].events_endpoint,{headers:{Authorization:"Bearer "+this.token}}),this.es.addEventListener("connected",(t=>{const e=JSON.parse(t.data);this.timestamp=e.timestamp,this.emit("connected",e.timestamp)})),this.es.addEventListener("storage-updated",(t=>{const e=JSON.parse(t.data);e.timestamp!==this.timestamp&&(this.timestamp=e.timestamp,this.emit("storage-updated",this.timestamp))})),this.es.addEventListener("storage-deleted",(t=>{delete this.timestamp,this.logout(),this.emit("storage-deleted")})),this.es.onerror=t=>{this.emitError(t)}}emitError(t){const e=w.from(t);switch(e.message){case"unauthorized":this.logout(),this.emit("logged-out");break;case"sse-connection-error":this.emit("connection-error",e);break;default:this.emit("error",e)}}async initKeyManager(t,e){await this.initialized;const i=this.wellKnownCvsConfiguration;this.keyManager=new d(t,e,i.vault_configuration[z].key_derivation),await this.keyManager.initialized}logout(){this.es?.close(),this.token=void 0,this.emit("logged-out")}async login(t,e){await this.initialized;const i=this.wellKnownCvsConfiguration;await this.initKeyManager(t,e);const n={username:t,authkey:this.keyManager.authKey},a=await v.post(this.serverUrl+i.vault_configuration.v2.token_endpoint,n,{responseStatus:200});this.token=a.token,await this.initEventSourceClient().catch((t=>{throw w.from(t)}))}async getRemoteStorageTimestamp(){if(await this.initialized,void 0===this.token)throw new w("unauthorized",void 0);const t=this.wellKnownCvsConfiguration,e=await v.get(this.serverUrl+t.vault_configuration[z].timestamp_endpoint,{bearerToken:this.token,responseStatus:200});return(this.timestamp??0)<e.timestamp&&(this.timestamp=e.timestamp),e.timestamp}async getStorage(){if(await this.initialized,void 0===this.token||void 0===this.keyManager)throw new w("unauthorized",void 0);try{const t=this.wellKnownCvsConfiguration,e=await v.get(this.serverUrl+t.vault_configuration[z].vault_endpoint,{bearerToken:this.token,responseStatus:200});if(e.timestamp<(this.timestamp??0))throw new w("validation",{description:"WEIRD!!! Received timestamp is older than the one received in previous events"});const i=this.keyManager.encKey.decrypt(Buffer.from(e.ciphertext,"base64url"));return this.timestamp=e.timestamp,{storage:i,timestamp:e.timestamp}}catch(t){throw w.from(t)}}async updateStorage(t,e=!1){if(await this.initialized,void 0===this.token||void 0===this.keyManager)throw new w("unauthorized",void 0);if(void 0!==this.timestamp&&(t.timestamp??0)<this.timestamp)throw new w("conflict",{localTimestamp:t.timestamp,remoteTimestamp:this.timestamp});const i=this.wellKnownCvsConfiguration;if(e){const e=await this.getRemoteStorageTimestamp();t.timestamp=null!==e?e:void 0}const n={ciphertext:this.keyManager.encKey.encrypt(t.storage).toString("base64url"),timestamp:t.timestamp},a=await v.post(this.serverUrl+i.vault_configuration[z].vault_endpoint,n,{bearerToken:this.token,responseStatus:201});this.timestamp=a.timestamp}async deleteStorage(){if(await this.initialized,void 0===this.token)throw new w("unauthorized",void 0);const t=this.wellKnownCvsConfiguration;await v.delete(this.serverUrl+t.vault_configuration[z].vault_endpoint,{bearerToken:this.token,responseStatus:204}),delete this.timestamp,this.logout()}async getServerPublicKey(){await this.initialized;const t=this.wellKnownCvsConfiguration;return(await v.get(this.serverUrl+t.registration_configuration.public_jwk_endpoint,{responseStatus:200})).jwk}static async getWellKnownCvsConfiguration(t){return await v.get(t+"/.well-known/cvs-configuration",{responseStatus:200})}static async computeAuthKey(t,e,i){const n=await S.getWellKnownCvsConfiguration(t),a=new d(e,i,n.vault_configuration[z].key_derivation);return await a.initialized,a.authKey}}export{d as KeyManager,l as SecretKey,S as VaultClient,w as VaultError,g as checkErrorType,m as deriveKey};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubm9kZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3RzL3NlY3JldC1rZXkudHMiLCIuLi8uLi9zcmMvdHMva2V5LW1hbmFnZXIudHMiLCIuLi8uLi9zcmMvdHMvZXJyb3IudHMiLCIuLi8uLi9zcmMvdHMvcmVxdWVzdC50cyIsIi4uLy4uL3NyYy90cy9jb25maWcvcGFyc2VQcm9jZXNzRW52VmFyLnRzIiwiLi4vLi4vc3JjL3RzL2NvbmZpZy9pbmRleC50cyIsIi4uLy4uL3NyYy90cy92YXVsdC1jbGllbnQudHMiXSwic291cmNlc0NvbnRlbnQiOm51bGwsIm5hbWVzIjpbIlNlY3JldEtleSIsImtleSIsImFsZyIsImNvbnN0cnVjdG9yIiwidGhpcyIsImVuY3J5cHQiLCJpbnB1dCIsIml2IiwicmFuZG9tQnl0ZXMiLCJjaXBoZXIiLCJjcmVhdGVDaXBoZXJpdiIsImVuY3J5cHRlZCIsIkJ1ZmZlciIsImNvbmNhdCIsInVwZGF0ZSIsImZpbmFsIiwidGFnIiwiZ2V0QXV0aFRhZyIsImRlY3J5cHQiLCJzdWJhcnJheSIsImNpcGhlcnRleHQiLCJkZWNpcGhlciIsImNyZWF0ZURlY2lwaGVyaXYiLCJzZXRBdXRoVGFnIiwiS2V5TWFuYWdlciIsIl9lbmNLZXkiLCJfYXV0aEtleSIsInVzZXJuYW1lIiwiZGVyaXZhdGlvbk9wdGlvbnMiLCJpbml0aWFsaXplZCIsIl9pbml0aWFsaXplZCIsInBhc3N3b3JkIiwib3B0cyIsImluaXQiLCJhc3luYyIsIm1hc3RlciIsImF1dGgiLCJlbmMiLCJtYXN0ZXJTYWx0IiwiX3NhbHQiLCJzYWx0X2hhc2hpbmdfYWxnb3JpdGhtIiwic2FsdF9wYXR0ZXJuIiwibWFzdGVyS2V5IiwiZGVyaXZlS2V5Iiwic2FsdCIsImF1dGhTYWx0IiwiZW5jU2FsdCIsImF1dGhLZXkiLCJlbmNLZXkiLCJQcm9taXNlIiwiYWxsIiwiZW5jX2FsZ29yaXRobSIsIkVycm9yIiwiY2F1c2UiLCJleHBvcnQiLCJ0b1N0cmluZyIsImhhc2hBbGdvcml0aG0iLCJzYWx0UGF0dGVybiIsInJlcGxhY2VtZW50cyIsInNhbHRTdHJpbmciLCJzZWFyY2hWYWx1ZSIsInJlcGxhY2UiLCJjcmVhdGVIYXNoIiwiZGlnZXN0IiwicGFzc3dvcmRPcktleSIsInNjcnlwdE9wdGlvbnMiLCJhbGdfb3B0aW9ucyIsIm1heG1lbSIsIk4iLCJyIiwia2V5UHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzY3J5cHQiLCJkZXJpdmVkX2tleV9sZW5ndGgiLCJlcnIiLCJjcmVhdGVTZWNyZXRLZXkiLCJWYXVsdEVycm9yIiwiZGF0YSIsIm1lc3NhZ2UiLCJvcHRpb25zIiwic3VwZXIiLCJuYW1lIiwic3RhdGljIiwiZXJyb3IiLCJFdmVudCIsIkF4aW9zRXJyb3IiLCJyZXNwb25zZSIsInVuZGVmaW5lZCIsInN0YXR1cyIsInZhdWx0Q29ubkVycm9yIiwicmVxdWVzdCIsIm1ldGhvZCIsImNvbmZpZyIsInRvTG9jYWxlVXBwZXJDYXNlIiwidXJsIiwiaGVhZGVycyIsInZhdWx0RXJyb3IiLCJzdGFjayIsImNoZWNrRXJyb3JUeXBlIiwidHlwZSIsImdldCIsImJlYXJlclRva2VuIiwiQXV0aG9yaXphdGlvbiIsInJlcyIsImF4aW9zIiwiY2F0Y2giLCJmcm9tIiwicmVzcG9uc2VTdGF0dXMiLCJkZXNjcmlwdGlvbiIsInBvc3QiLCJyZXF1ZXN0Qm9keSIsInB1dCIsImRlbGV0ZSIsImxvYWRFbnZGaWxlIiwiaW52YWxpZE1zZyIsInZhcm5hbWUiLCJ2YWx1ZXMiLCJyZXQiLCJib29sZWFuRmFsc2VBbGxvd2VkVmFsdWVzIiwiYm9vbGVhblRydWVBbGxvd2VkVmFsdWVzIiwiYm9vbGVhbkFsbG93ZWRWYWx1ZXMiLCJwYXJzZVByb2NjZXNzRW52VmFyIiwidmFyTmFtZSIsInZhbHVlIiwiYSIsInByb2Nlc3MiLCJlbnYiLCJpc0Jvb2xlYW4iLCJhbGxvd2VkVmFsdWVzIiwiZGVmYXVsdFZhbHVlIiwiaW5jbHVkZXMiLCJSYW5nZUVycm9yIiwiam9pbiIsImFwaVZlcnNpb24iLCJWYXVsdENsaWVudCIsIkV2ZW50RW1pdHRlciIsInRpbWVzdGFtcCIsInRva2VuIiwic2VydmVyVXJsIiwid2VsbEtub3duQ3ZzQ29uZmlndXJhdGlvbiIsImtleU1hbmFnZXIiLCJlcyIsImNhcHR1cmVSZWplY3Rpb25zIiwiZW1pdCIsImV2ZW50TmFtZSIsImFyZ3MiLCJvbiIsImxpc3RlbmVyIiwib25jZSIsImdldFdlbGxLbm93bkN2c0NvbmZpZ3VyYXRpb24iLCJpbml0RXZlbnRTb3VyY2VDbGllbnQiLCJjdnNDb25mIiwiRXZlbnRTb3VyY2UiLCJ2YXVsdF9jb25maWd1cmF0aW9uIiwiZXZlbnRzX2VuZHBvaW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJtc2ciLCJKU09OIiwicGFyc2UiLCJsb2dvdXQiLCJvbmVycm9yIiwiZW1pdEVycm9yIiwia2V5X2Rlcml2YXRpb24iLCJjbG9zZSIsImluaXRLZXlNYW5hZ2VyIiwicmVxQm9keSIsImF1dGhrZXkiLCJ2MiIsInRva2VuX2VuZHBvaW50IiwidGltZXN0YW1wX2VuZHBvaW50IiwidmF1bHRfZW5kcG9pbnQiLCJzdG9yYWdlIiwiZm9yY2UiLCJsb2NhbFRpbWVzdGFtcCIsInJlbW90ZVRpbWVzdGFtcCIsImdldFJlbW90ZVN0b3JhZ2VUaW1lc3RhbXAiLCJyZWdpc3RyYXRpb25fY29uZmlndXJhdGlvbiIsInB1YmxpY19qd2tfZW5kcG9pbnQiLCJqd2siXSwibWFwcGluZ3MiOiI2UUFHYUEsRUFDTUMsSUFDUkMsSUFFVEMsWUFBYUYsRUFBZ0JDLEdBQzNCRSxLQUFLSCxJQUFNQSxFQUNYRyxLQUFLRixJQUFNQSxDQUNaLENBRURHLFFBQVNDLEdBRVAsTUFBTUMsRUFBS0MsRUFBWSxJQUdqQkMsRUFBU0MsRUFBZU4sS0FBS0YsSUFBS0UsS0FBS0gsSUFBS00sR0FHNUNJLEVBQVlDLE9BQU9DLE9BQU8sQ0FBQ0osRUFBT0ssT0FBT1IsR0FBUUcsRUFBT00sVUFHeERDLEVBQU1QLEVBQU9RLGFBR25CLE9BQU9MLE9BQU9DLE9B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
