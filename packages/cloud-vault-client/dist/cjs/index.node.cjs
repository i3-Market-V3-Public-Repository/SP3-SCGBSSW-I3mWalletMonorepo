"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("crypto"),e=require("axios"),i=require("events"),s=require("eventsource"),a=require("dotenv");function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=r(e),o=r(s);class l{key;alg;constructor(t,e){this.key=t,this.alg=e}encrypt(e){const i=t.randomBytes(16),s=t.createCipheriv(this.alg,this.key,i),a=Buffer.concat([s.update(e),s.final()]),r=s.getAuthTag();return Buffer.concat([i,r,a])}decrypt(e){const i=e.subarray(0,16),s=e.subarray(16,32),a=e.subarray(32),r=t.createDecipheriv(this.alg,this.key,i);return r.setAuthTag(s),Buffer.concat([r.update(a),r.final()])}}class u{_encKey;_authKey;username;derivationOptions;initialized;_initialized;constructor(t,e,i){this.username=t,this.derivationOptions=i,this._initialized=!1,this.initialized=this.init(e)}async init(t){const{master:e,auth:i,enc:s}=this.derivationOptions,a=h(e.salt_hashing_algorithm,e.salt_pattern,{username:this.username}),r=await d(t,{...e,salt:a}),n=h(i.salt_hashing_algorithm,i.salt_pattern,{username:this.username}),o=h(s.salt_hashing_algorithm,s.salt_pattern,{username:this.username}),[u,c]=await Promise.all([d(r,{...i,salt:n}),d(r,{...s,salt:o})]);this._authKey=u,this._encKey=new l(c,s.enc_algorithm),this._initialized=!0}get authKey(){if(!this._initialized)throw new Error("Unable to get authKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._authKey.export().toString("base64url")}get encKey(){if(!this._initialized)throw new Error("Unable to get encKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._encKey}}function h(e,i,s){let a="";for(const t in s)a=i.replaceAll(t,s[t]);return t.createHash(e).update(a).digest()}async function d(e,i){const s={...i.alg_options,maxmem:256*i.alg_options.N*i.alg_options.r},a="string"==typeof e?e:e.export(),r=new Promise(((e,r)=>{t.scrypt(a,i.salt,i.derived_key_length,s,((i,s)=>{null!==i&&r(i),e(t.createSecretKey(s))}))}));return await r}a.config();const c=(t,e)=>{let i=`Invalid value for ${t}. `;return void 0!==e&&(i+=`Allowed values are ${e} `),i},m=["0","false","FALSE"],g=["1","true","FALSE"],p=m.concat(g);function f(t,e){const i=void 0===(s=process.env[t])?"":s;var s;const a=(e=e??{})?.isBoolean??!1;if(a&&(e={...e,allowedValues:p}),""===i){if(void 0!==e.defaultValue)return e.defaultValue;if(void 0!==e.allowedValues&&!e.allowedValues.includes(""))throw new RangeError(c(t,e.allowedValues.join(", ")))}if(a&&g.includes(i))return!0;if(a&&m.includes(i))return!1;if(void 0!==e.allowedValues&&!e.allowedValues.includes(i))throw new RangeError(c(t,e.allowedValues.join(", ")));return i}f("NODE_ENV",{defaultValue:"production",allowedValues:["production","development"]});const v="v"+f("npm_package_version",{defaultValue:"0.0.1"})[0];class y extends i.EventEmitter{timestamp;token;name;serverUrl;username;password;keyManager;wellKnownCvsConfiguration;defaultEvents;initialized;es;constructor(e,i,s,a){super({captureRejections:!0}),this.name=a??t.randomBytes(16).toString("hex"),this.serverUrl=e,this.username=i,this.password=s,this.defaultEvents={connected:"connected",close:"close","login-required":"login-required","storage-updated":"storage-updated","storage-deleted":"storage-deleted",conflict:"conflict",error:"error"},this.initialized=this.init()}async init(){try{await this.getWellKnownCvsConfiguration()}catch(t){return this.emitError(t),!1}const t=this.wellKnownCvsConfiguration;this.keyManager=new u(this.username,this.password,t.vault_configuration[v].key_derivation);try{await this.keyManager.initialized}catch(t){return this.emitError(t),!1}return delete this.password,!0}emitError(t){if(t instanceof e.AxiosError)if("Unauthorized"===t.response?.data.name)this.logout(),this.emit(this.defaultEvents["login-required"]);else{const e={request:{method:t.config?.method?.toLocaleUpperCase(),url:t.config?.url,headers:t.config?.headers,data:t.config?.data},response:{status:t.response?.status,headers:t.response?.headers,data:t.response?.data}};this.emit(this.defaultEvents.error,e)}else this.emit(this.defaultEvents.error,t)}async getWellKnownCvsConfiguration(){const t=await n.default.get(this.serverUrl+"/.well-known/cvs-configuration");this.wellKnownCvsConfiguration=t.data}async initEventSourceClient(){if(void 0===this.token)throw new Error("Cannot subscribe to events without login first");const t=this.wellKnownCvsConfiguration;this.es=new o.default(this.serverUrl+t.vault_configuration[v].events_endpoint,{headers:{Authorization:"Bearer "+this.token}}),this.es.onmessage=t=>{console.log(t)},this.es.addEventListener("connected",(t=>{const e=JSON.parse(t.data);this.timestamp=e.timestamp,this.emit(this.defaultEvents.connected,e.timestamp)})),this.es.addEventListener("storage-updated",(t=>{const e=JSON.parse(t.data);e.timestamp!==this.timestamp&&(this.timestamp=e.timestamp,this.emit(this.defaultEvents["storage-updated"],this.timestamp))})),this.es.addEventListener("storage-deleted",(t=>{delete this.timestamp,this.close(),this.emit(this.defaultEvents["storage-deleted"])})),this.es.onerror=t=>{this.emitError(t)}}close(){this.logout(),this.emit(this.defaultEvents.close)}async getAuthKey(){if(!await this.initialized)try{await this.init()}catch(t){return this.emitError(t),null}return this.keyManager.authKey}async login(){if(!await this.initialized)try{await this.init()}catch(t){return this.emitError(t),!1}const t={username:this.username,authkey:this.keyManager.authKey};try{const e=this.wellKnownCvsConfiguration,i=await n.default.post(this.serverUrl+e.vault_configuration.v2.token_endpoint,t);if(200!==i.status)return this.emitError(i),!1;const s=i.data;return this.token=s.token,await this.initEventSourceClient(),!0}catch(t){return this.emitError(t),!1}}logout(){this.token=void 0,this.es?.close()}async getRemoteStorageTimestamp(){try{if(void 0===this.token)return this.emit(this.defaultEvents["login-required"]),null;const t=this.wellKnownCvsConfiguration,e=await n.default.get(this.serverUrl+t.vault_configuration[v].timestamp_endpoint,{headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});return 200!==e.status?(this.emitError(e),null):((this.timestamp??0)<e.data.timestamp&&(this.timestamp=e.data.timestamp),e.data.timestamp)}catch(t){return this.emitError(t),null}}async getStorage(){try{if(void 0===this.token)return this.emit(this.defaultEvents["login-required"]),null;const t=this.wellKnownCvsConfiguration,e=this.keyManager.encKey,i=await n.default.get(this.serverUrl+t.vault_configuration[v].vault_endpoint,{headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});if(200!==i.status)return this.emitError(i),null;if(i.data.timestamp<(this.timestamp??0))return this.emitError(new Error("Received timestamp is older than the latest one published")),null;const s=e.decrypt(Buffer.from(i.data.ciphertext,"base64url"));return this.timestamp=i.data.timestamp,{storage:s,timestamp:i.data.timestamp}}catch(t){return this.emitError(t),null}}async updateStorage(t,e=!1){try{if(void 0===this.token)return this.emit(this.defaultEvents["login-required"]),!1;if(void 0!==this.timestamp&&(t.timestamp??0)<this.timestamp)return this.emit(this.defaultEvents.conflict),!1;const i=this.wellKnownCvsConfiguration,s=this.keyManager.encKey;if(e){const e=await this.getRemoteStorageTimestamp();t.timestamp=null!==e?e:void 0}const a={ciphertext:s.encrypt(t.storage).toString("base64url"),timestamp:t.timestamp},r=await n.default.post(this.serverUrl+i.vault_configuration[v].vault_endpoint,a,{headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});return 201!==r.status?(this.emitError(r),!1):(this.timestamp=r.data.timestamp,!0)}catch(t){this.emitError(t)}return!1}async deleteStorage(){try{if(void 0===this.token)return this.logout(),this.emit(this.defaultEvents["login-required"]),!1;const t=this.wellKnownCvsConfiguration,e=await n.default.delete(this.serverUrl+t.vault_configuration[v].vault_endpoint,{headers:{Authorization:"Bearer "+this.token}});return 204!==e.status?(this.emitError(e),!1):(this.emit(this.defaultEvents["storage-deleted"]),delete this.timestamp,this.close(),!0)}catch(t){this.emitError(t)}return!1}async getServerPublicKey(){try{await this.getWellKnownCvsConfiguration();const t=this.wellKnownCvsConfiguration,e=await n.default.get(this.serverUrl+t.registration_configuration.public_jwk_endpoint);return 200!==e.status?(this.emitError(e),null):e.data.jwk}catch(t){return this.emitError(t),null}}}exports.KeyManager=u,exports.SecretKey=l,exports.VaultClient=y,exports.deriveKey=d;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubm9kZS5janMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90cy9zZWNyZXQta2V5LnRzIiwiLi4vLi4vc3JjL3RzL2tleS1tYW5hZ2VyLnRzIiwiLi4vLi4vc3JjL3RzL2NvbmZpZy9wYXJzZVByb2Nlc3NFbnZWYXIudHMiLCIuLi8uLi9zcmMvdHMvY29uZmlnL2luZGV4LnRzIiwiLi4vLi4vc3JjL3RzL3ZhdWx0LWNsaWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6bnVsbCwibmFtZXMiOlsiU2VjcmV0S2V5Iiwia2V5IiwiYWxnIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiZW5jcnlwdCIsImlucHV0IiwiaXYiLCJyYW5kb21CeXRlcyIsImNpcGhlciIsImNyZWF0ZUNpcGhlcml2IiwiZW5jcnlwdGVkIiwiQnVmZmVyIiwiY29uY2F0IiwidXBkYXRlIiwiZmluYWwiLCJ0YWciLCJnZXRBdXRoVGFnIiwiZGVjcnlwdCIsInN1YmFycmF5IiwiY2lwaGVydGV4dCIsImRlY2lwaGVyIiwiY3JlYXRlRGVjaXBoZXJpdiIsInNldEF1dGhUYWciLCJLZXlNYW5hZ2VyIiwiX2VuY0tleSIsIl9hdXRoS2V5IiwidXNlcm5hbWUiLCJkZXJpdmF0aW9uT3B0aW9ucyIsImluaXRpYWxpemVkIiwiX2luaXRpYWxpemVkIiwicGFzc3dvcmQiLCJvcHRzIiwiaW5pdCIsImFzeW5jIiwibWFzdGVyIiwiYXV0aCIsImVuYyIsIm1hc3RlclNhbHQiLCJfc2FsdCIsInNhbHRfaGFzaGluZ19hbGdvcml0aG0iLCJzYWx0X3BhdHRlcm4iLCJtYXN0ZXJLZXkiLCJkZXJpdmVLZXkiLCJzYWx0IiwiYXV0aFNhbHQiLCJlbmNTYWx0IiwiYXV0aEtleSIsImVuY0tleSIsIlByb21pc2UiLCJhbGwiLCJlbmNfYWxnb3JpdGhtIiwiRXJyb3IiLCJjYXVzZSIsImV4cG9ydCIsInRvU3RyaW5nIiwiaGFzaEFsZ29yaXRobSIsInNhbHRQYXR0ZXJuIiwicmVwbGFjZW1lbnRzIiwic2FsdFN0cmluZyIsInNlYXJjaFZhbHVlIiwicmVwbGFjZUFsbCIsImNyZWF0ZUhhc2giLCJkaWdlc3QiLCJwYXNzd29yZE9yS2V5Iiwic2NyeXB0T3B0aW9ucyIsImFsZ19vcHRpb25zIiwibWF4bWVtIiwiTiIsInIiLCJrZXlQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNjcnlwdCIsImRlcml2ZWRfa2V5X2xlbmd0aCIsImVyciIsImNyZWF0ZVNlY3JldEtleSIsImxvYWRFbnZGaWxlIiwiaW52YWxpZE1zZyIsInZhcm5hbWUiLCJ2YWx1ZXMiLCJyZXQiLCJ1bmRlZmluZWQiLCJib29sZWFuRmFsc2VBbGxvd2VkVmFsdWVzIiwiYm9vbGVhblRydWVBbGxvd2VkVmFsdWVzIiwiYm9vbGVhbkFsbG93ZWRWYWx1ZXMiLCJwYXJzZVByb2NjZXNzRW52VmFyIiwidmFyTmFtZSIsIm9wdGlvbnMiLCJ2YWx1ZSIsImEiLCJwcm9jZXNzIiwiZW52IiwiaXNCb29sZWFuIiwiYWxsb3dlZFZhbHVlcyIsImRlZmF1bHRWYWx1ZSIsImluY2x1ZGVzIiwiUmFuZ2VFcnJvciIsImpvaW4iLCJhcGlWZXJzaW9uIiwiVmF1bHRDbGllbnQiLCJFdmVudEVtaXR0ZXIiLCJ0aW1lc3RhbXAiLCJ0b2tlbiIsIm5hbWUiLCJzZXJ2ZXJVcmwiLCJrZXlNYW5hZ2VyIiwid2VsbEtub3duQ3ZzQ29uZmlndXJhdGlvbiIsImRlZmF1bHRFdmVudHMiLCJlcyIsInN1cGVyIiwiY2FwdHVyZVJlamVjdGlvbnMiLCJjb25uZWN0ZWQiLCJjbG9zZSIsImNvbmZsaWN0IiwiZXJyb3IiLCJnZXRXZWxsS25vd25DdnNDb25maWd1cmF0aW9uIiwiZW1pdEVycm9yIiwiY3ZzQ29uZiIsInZhdWx0X2NvbmZpZ3VyYXRpb24iLCJrZXlfZGVyaXZhdGlvbiIsIkF4aW9zRXJyb3IiLCJyZXNwb25zZSIsImRhdGEiLCJsb2dvdXQiLCJlbWl0IiwidmF1bHRDb25uRXJyb3IiLCJyZXF1ZXN0IiwibWV0aG9kIiwiY29uZmlnIiwidG9Mb2NhbGVVcHBlckNhc2UiLCJ1cmwiLCJoZWFkZXJzIiwic3RhdHVzIiwicmVzIiwiYXhpb3MiLCJnZXQiLCJFdmVudFNvdXJjZSIsImV2ZW50c19lbmRwb2ludCIsIkF1dGhvcml6YXRpb24iLCJvbm1lc3NhZ2UiLCJtc2ciLCJjb25zb2xlIiwibG9nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJKU09OIiwicGFyc2UiLCJvbmVycm9yIiwicmVxQm9keSIsImF1dGhrZXkiLCJwb3N0IiwidjIiLCJ0b2tlbl9lbmRwb2ludCIsImJvZHkiLCJpbml0RXZlbnRTb3VyY2VDbGllbnQiLCJ0aW1lc3RhbXBfZW5kcG9pbnQiLCJ2YXVsdF9lbmRwb2ludCIsInN0b3JhZ2UiLCJmcm9tIiwiZm9yY2UiLCJyZW1vdGVUaW1lc3RhbXAiLCJnZXRSZW1vdGVTdG9yYWdlVGltZXN0YW1wIiwicmVxdWVzdEJvZHkiLCJkZWxldGUiLCJyZWdpc3RyYXRpb25fY29uZmlndXJhdGlvbiIsInB1YmxpY19qd2tfZW5kcG9pbnQiLCJqd2siXSwibWFwcGluZ3MiOiJnUkFHYUEsRUFDTUMsSUFDUkMsSUFFVEMsWUFBYUYsRUFBZ0JDLEdBQzNCRSxLQUFLSCxJQUFNQSxFQUNYRyxLQUFLRixJQUFNQSxDQUNaLENBRURHLFFBQVNDLEdBRVAsTUFBTUMsRUFBS0MsY0FBWSxJQUdqQkMsRUFBU0MsRUFBQUEsZUFBZU4sS0FBS0YsSUFBS0UsS0FBS0gsSUFBS00sR0FHNUNJLEVBQVlDLE9BQU9DLE9BQU8sQ0FBQ0osRUFBT0ssT0FBT1IsR0FBUUcsRUFBT00sVUFHeERDLEVBQU1QLEVBQU9RLGFBR25CLE9BQU9MLE9BQU9DLE9BQU8sQ0FBQ04sRUFBSVMsRUFBS0wsR0FDaEMsQ0FFRE8sUUFBU1osR0FFUCxNQUFNQyxFQUFLRCxFQUFNYSxTQUFTLEVBQUcsSUFDdkJILEVBQU1WLEVBQU1hLFNBQVMsR0FBSSxJQUN6QkMsRUFBYWQsRUFBTWEsU0FBUyxJQUc1QkUsRUFBV0MsRUFBQUEsaUJBQWlCbEIsS0FBS0YsSUFBS0UsS0FBS0gsSUFBS00sR0FJdEQsT0FI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
