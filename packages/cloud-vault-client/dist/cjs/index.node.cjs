"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("crypto"),e=require("axios"),i=require("events"),a=require("eventsource"),n=require("dotenv");function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=s(e),r=s(a);class u{key;alg;constructor(t,e){this.key=t,this.alg=e}encrypt(e){const i=t.randomBytes(16),a=t.createCipheriv(this.alg,this.key,i),n=Buffer.concat([a.update(e),a.final()]),s=a.getAuthTag();return Buffer.concat([i,s,n])}decrypt(e){const i=e.subarray(0,16),a=e.subarray(16,32),n=e.subarray(32),s=t.createDecipheriv(this.alg,this.key,i);return s.setAuthTag(a),Buffer.concat([s.update(n),s.final()])}}class c{_encKey;_authKey;username;derivationOptions;initialized;_initialized;constructor(t,e,i){this.username=t,this.derivationOptions=i,this._initialized=!1,this.initialized=this.init(e)}async init(t){const{master:e,auth:i,enc:a}=this.derivationOptions,n=l(e.salt_hashing_algorithm,e.salt_pattern,{username:this.username}),s=await h(t,{...e,salt:n}),o=l(i.salt_hashing_algorithm,i.salt_pattern,{username:this.username}),r=l(a.salt_hashing_algorithm,a.salt_pattern,{username:this.username}),[c,d]=await Promise.all([h(s,{...i,salt:o}),h(s,{...a,salt:r})]);this._authKey=c,this._encKey=new u(d,a.enc_algorithm),this._initialized=!0}get authKey(){if(!this._initialized)throw new Error("Unable to get authKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._authKey.export().toString("base64url")}get encKey(){if(!this._initialized)throw new Error("Unable to get encKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._encKey}}function l(e,i,a){let n="";for(const t in a)n=i.replace(t,a[t]);return t.createHash(e).update(n).digest()}async function h(e,i){const a={...i.alg_options,maxmem:256*i.alg_options.N*i.alg_options.r},n="string"==typeof e?e:e.export(),s=new Promise(((e,s)=>{t.scrypt(n,i.salt,i.derived_key_length,a,((i,a)=>{null!==i&&s(i),e(t.createSecretKey(a))}))}));return await s}class d extends Error{data;message;constructor(t,e,i){super(t,i),this.name="VaultError",this.data=e,this.message=t}static from(t){if(t instanceof d)return t;if(t instanceof Event)return new d("sse-connection-error",t,{cause:"Likely issues connecting to the events endpoint of the cloud vault server"});if(t instanceof e.AxiosError){if("Unauthorized"===t.response?.data.name)return new d("unauthorized",void 0);if(404===t.response?.status&&"no storage"===t.response.data.name)return new d("no-uploaded-storage",void 0);if(404===t.response?.status&&"invalid credentials"===t.response.data.name)return new d("invalid-credentials",void 0);const e={request:{method:t.config?.method?.toLocaleUpperCase(),url:t.config?.url,headers:t.config?.headers,data:t.config?.data},response:{status:t.response?.status,headers:t.response?.headers,data:t.response?.data}};return new d("http-connection-error",e)}if(t instanceof Error){const e=new d("error",t,{cause:t.cause});return e.stack=t.stack,e}return new d("unknown",t)}}var p={get:async function(t,e){const i={"Content-Type":"application/json"};void 0!==e?.bearerToken&&(i.Authorization="Bearer "+e.bearerToken);const a=await o.default.get(t,{headers:i}).catch((t=>{throw d.from(t)}));if(void 0!==e?.responseStatus&&a.status!==e.responseStatus)throw new d("validation",{description:`Received HTTP status ${a.status} does not match the expected one (${e.responseStatus})`},{cause:"HTTP status does not match the expected one"});return a.data},post:async function(t,e,i){const a={"Content-Type":"application/json"};void 0!==i?.bearerToken&&(a.Authorization="Bearer "+i.bearerToken);const n=await o.default.post(t,e,{headers:a}).catch((t=>{throw d.from(t)}));if(void 0!==i?.responseStatus&&n.status!==i.responseStatus)throw new d("validation",{description:`Received HTTP status ${n.status} does not match the expected one (${i.responseStatus})`},{cause:"HTTP status does not match the expected one"});return n.data},put:async function(t,e,i){const a={"Content-Type":"application/json"};void 0!==i?.bearerToken&&(a.Authorization="Bearer "+i.bearerToken);const n=await o.default.put(t,e,{headers:a}).catch((t=>{throw d.from(t)}));if(void 0!==i?.responseStatus&&n.status!==i.responseStatus)throw new d("validation",{description:`Received HTTP status ${n.status} does not match the expected one (${i.responseStatus})`},{cause:"HTTP status does not match the expected one"});return n.data},delete:async function(t,e){const i={"Content-Type":"application/json"};void 0!==e?.bearerToken&&(i.Authorization="Bearer "+e.bearerToken);const a=await o.default.delete(t,{headers:i}).catch((t=>{throw d.from(t)}));if(void 0!==e?.responseStatus&&a.status!==e.responseStatus)throw new d("validation",{description:`Received HTTP status ${a.status} does not match the expected one (${e.responseStatus})`},{cause:"HTTP status does not match the expected one"});return a.data}};n.config();const m=(t,e)=>{let i=`Invalid value for ${t}. `;return void 0!==e&&(i+=`Allowed values are ${e} `),i},v=["0","false","FALSE"],w=["1","true","FALSE"],g=v.concat(w);function f(t,e){const i=void 0===(a=process.env[t])?"":a;var a;const n=(e=e??{})?.isBoolean??!1;if(n&&(e={...e,allowedValues:g}),""===i){if(void 0!==e.defaultValue)return e.defaultValue;if(void 0!==e.allowedValues&&!e.allowedValues.includes(""))throw new RangeError(m(t,e.allowedValues.join(", ")))}if(n&&w.includes(i))return!0;if(n&&v.includes(i))return!1;if(void 0!==e.allowedValues&&!e.allowedValues.includes(i))throw new RangeError(m(t,e.allowedValues.join(", ")));return i}f("NODE_ENV",{defaultValue:"production",allowedValues:["production","development"]});const y="v"+f("npm_package_version",{defaultValue:"0.0.1"})[0];class k extends i.EventEmitter{timestamp;token;name;serverUrl;wellKnownCvsConfiguration;initialized;keyManager;es;constructor(e,i,a){super({captureRejections:!0}),this.name=a??t.randomBytes(16).toString("hex"),this.serverUrl=e,this.token=i,this.initialized=this.init()}emit(t,...e){return super.emit(t,...e)}on(t,e){return super.on(t,e)}once(t,e){return super.once(t,e)}async init(){this.wellKnownCvsConfiguration=await k.getWellKnownCvsConfiguration(this.serverUrl).catch((t=>{throw new d("not-initialized",t)})),void 0!==this.token&&await this.initEventSourceClient().catch((t=>{throw d.from(t)}))}async initEventSourceClient(){if(void 0===this.token)throw new d("unauthorized",void 0);const t=this.wellKnownCvsConfiguration;this.es=new r.default(this.serverUrl+t.vault_configuration[y].events_endpoint,{headers:{Authorization:"Bearer "+this.token}}),this.es.addEventListener("connected",(t=>{const e=JSON.parse(t.data);this.timestamp=e.timestamp,this.emit("connected",e.timestamp)})),this.es.addEventListener("storage-updated",(t=>{const e=JSON.parse(t.data);e.timestamp!==this.timestamp&&(this.timestamp=e.timestamp,this.emit("storage-updated",this.timestamp))})),this.es.addEventListener("storage-deleted",(t=>{delete this.timestamp,this.logout(),this.emit("storage-deleted")})),this.es.onerror=t=>{this.emitError(t)}}emitError(t){const e=d.from(t);switch(e.message){case"unauthorized":this.logout(),this.emit("logged-out");break;case"sse-connection-error":this.emit("connection-error",e);break;default:this.emit("error",e)}}async initKeyManager(t,e){await this.initialized;const i=this.wellKnownCvsConfiguration;this.keyManager=new c(t,e,i.vault_configuration[y].key_derivation),await this.keyManager.initialized}logout(){this.es?.close(),this.token=void 0,this.emit("logged-out")}async login(t,e){await this.initialized;const i=this.wellKnownCvsConfiguration;await this.initKeyManager(t,e);const a={username:t,authkey:this.keyManager.authKey},n=await p.post(this.serverUrl+i.vault_configuration.v2.token_endpoint,a,{responseStatus:200});this.token=n.token,await this.initEventSourceClient().catch((t=>{throw d.from(t)}))}async getRemoteStorageTimestamp(){if(await this.initialized,void 0===this.token)throw new d("unauthorized",void 0);const t=this.wellKnownCvsConfiguration,e=await p.get(this.serverUrl+t.vault_configuration[y].timestamp_endpoint,{bearerToken:this.token,responseStatus:200});return(this.timestamp??0)<e.timestamp&&(this.timestamp=e.timestamp),e.timestamp}async getStorage(){if(await this.initialized,void 0===this.token||void 0===this.keyManager)throw new d("unauthorized",void 0);try{const t=this.wellKnownCvsConfiguration,e=await p.get(this.serverUrl+t.vault_configuration[y].vault_endpoint,{bearerToken:this.token,responseStatus:200});if(e.timestamp<(this.timestamp??0))throw new d("validation",{description:"WEIRD!!! Received timestamp is older than the one received in previous events"});const i=this.keyManager.encKey.decrypt(Buffer.from(e.ciphertext,"base64url"));return this.timestamp=e.timestamp,{storage:i,timestamp:e.timestamp}}catch(t){throw d.from(t)}}async updateStorage(t,e=!1){if(await this.initialized,void 0===this.token||void 0===this.keyManager)throw new d("unauthorized",void 0);if(void 0!==this.timestamp&&(t.timestamp??0)<this.timestamp)throw new d("conflict",{localTimestamp:t.timestamp,remoteTimestamp:this.timestamp});const i=this.wellKnownCvsConfiguration;if(e){const e=await this.getRemoteStorageTimestamp();t.timestamp=null!==e?e:void 0}const a={ciphertext:this.keyManager.encKey.encrypt(t.storage).toString("base64url"),timestamp:t.timestamp},n=await p.post(this.serverUrl+i.vault_configuration[y].vault_endpoint,a,{bearerToken:this.token,responseStatus:201});this.timestamp=n.timestamp}async deleteStorage(){if(await this.initialized,void 0===this.token)throw new d("unauthorized",void 0);const t=this.wellKnownCvsConfiguration;await p.delete(this.serverUrl+t.vault_configuration[y].vault_endpoint,{bearerToken:this.token,responseStatus:204}),delete this.timestamp,this.logout()}async getServerPublicKey(){await this.initialized;const t=this.wellKnownCvsConfiguration;return(await p.get(this.serverUrl+t.registration_configuration.public_jwk_endpoint,{responseStatus:200})).jwk}static async getWellKnownCvsConfiguration(t){return await p.get(t+"/.well-known/cvs-configuration",{responseStatus:200})}static async computeAuthKey(t,e,i){const a=await k.getWellKnownCvsConfiguration(t),n=new c(e,i,a.vault_configuration[y].key_derivation);return await n.initialized,n.authKey}}exports.KeyManager=c,exports.SecretKey=u,exports.VaultClient=k,exports.VaultError=d,exports.checkErrorType=function(t,e){return t.message===e},exports.deriveKey=h;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubm9kZS5janMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90cy9zZWNyZXQta2V5LnRzIiwiLi4vLi4vc3JjL3RzL2tleS1tYW5hZ2VyLnRzIiwiLi4vLi4vc3JjL3RzL2Vycm9yLnRzIiwiLi4vLi4vc3JjL3RzL3JlcXVlc3QudHMiLCIuLi8uLi9zcmMvdHMvY29uZmlnL3BhcnNlUHJvY2Vzc0VudlZhci50cyIsIi4uLy4uL3NyYy90cy9jb25maWcvaW5kZXgudHMiLCIuLi8uLi9zcmMvdHMvdmF1bHQtY2xpZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpudWxsLCJuYW1lcyI6WyJTZWNyZXRLZXkiLCJrZXkiLCJhbGciLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJlbmNyeXB0IiwiaW5wdXQiLCJpdiIsInJhbmRvbUJ5dGVzIiwiY2lwaGVyIiwiY3JlYXRlQ2lwaGVyaXYiLCJlbmNyeXB0ZWQiLCJCdWZmZXIiLCJjb25jYXQiLCJ1cGRhdGUiLCJmaW5hbCIsInRhZyIsImdldEF1dGhUYWciLCJkZWNyeXB0Iiwic3ViYXJyYXkiLCJjaXBoZXJ0ZXh0IiwiZGVjaXBoZXIiLCJjcmVhdGVEZWNpcGhlcml2Iiwic2V0QXV0aFRhZyIsIktleU1hbmFnZXIiLCJfZW5jS2V5IiwiX2F1dGhLZXkiLCJ1c2VybmFtZSIsImRlcml2YXRpb25PcHRpb25zIiwiaW5pdGlhbGl6ZWQiLCJfaW5pdGlhbGl6ZWQiLCJwYXNzd29yZCIsIm9wdHMiLCJpbml0IiwiYXN5bmMiLCJtYXN0ZXIiLCJhdXRoIiwiZW5jIiwibWFzdGVyU2FsdCIsIl9zYWx0Iiwic2FsdF9oYXNoaW5nX2FsZ29yaXRobSIsInNhbHRfcGF0dGVybiIsIm1hc3RlcktleSIsImRlcml2ZUtleSIsInNhbHQiLCJhdXRoU2FsdCIsImVuY1NhbHQiLCJhdXRoS2V5IiwiZW5jS2V5IiwiUHJvbWlzZSIsImFsbCIsImVuY19hbGdvcml0aG0iLCJFcnJvciIsImNhdXNlIiwiZXhwb3J0IiwidG9TdHJpbmciLCJoYXNoQWxnb3JpdGhtIiwic2FsdFBhdHRlcm4iLCJyZXBsYWNlbWVudHMiLCJzYWx0U3RyaW5nIiwic2VhcmNoVmFsdWUiLCJyZXBsYWNlIiwiY3JlYXRlSGFzaCIsImRpZ2VzdCIsInBhc3N3b3JkT3JLZXkiLCJzY3J5cHRPcHRpb25zIiwiYWxnX29wdGlvbnMiLCJtYXhtZW0iLCJOIiwiciIsImtleVByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2NyeXB0IiwiZGVyaXZlZF9rZXlfbGVuZ3RoIiwiZXJyIiwiY3JlYXRlU2VjcmV0S2V5IiwiVmF1bHRFcnJvciIsImRhdGEiLCJtZXNzYWdlIiwib3B0aW9ucyIsInN1cGVyIiwibmFtZSIsInN0YXRpYyIsImVycm9yIiwiRXZlbnQiLCJBeGlvc0Vycm9yIiwicmVzcG9uc2UiLCJ1bmRlZmluZWQiLCJzdGF0dXMiLCJ2YXVsdENvbm5FcnJvciIsInJlcXVlc3QiLCJtZXRob2QiLCJjb25maWciLCJ0b0xvY2FsZVVwcGVyQ2FzZSIsInVybCIsImhlYWRlcnMiLCJ2YXVsdEVycm9yIiwic3RhY2siLCJnZXQiLCJiZWFyZXJUb2tlbiIsIkF1dGhvcml6YXRpb24iLCJyZXMiLCJheGlvcyIsImNhdGNoIiwiZnJvbSIsInJlc3BvbnNlU3RhdHVzIiwiZGVzY3JpcHRpb24iLCJwb3N0IiwicmVxdWVzdEJvZHkiLCJwdXQiLCJkZWxldGUiLCJsb2FkRW52RmlsZSIsImludmFsaWRNc2ciLCJ2YXJuYW1lIiwidmFsdWVzIiwicmV0IiwiYm9vbGVhbkZhbHNlQWxsb3dlZFZhbHVlcyIsImJvb2xlYW5UcnVlQWxsb3dlZFZhbHVlcyIsImJvb2xlYW5BbGxvd2VkVmFsdWVzIiwicGFyc2VQcm9jY2Vzc0VudlZhciIsInZhck5hbWUiLCJ2YWx1ZSIsImEiLCJwcm9jZXNzIiwiZW52IiwiaXNCb29sZWFuIiwiYWxsb3dlZFZhbHVlcyIsImRlZmF1bHRWYWx1ZSIsImluY2x1ZGVzIiwiUmFuZ2VFcnJvciIsImpvaW4iLCJhcGlWZXJzaW9uIiwiVmF1bHRDbGllbnQiLCJFdmVudEVtaXR0ZXIiLCJ0aW1lc3RhbXAiLCJ0b2tlbiIsInNlcnZlclVybCIsIndlbGxLbm93bkN2c0NvbmZpZ3VyYXRpb24iLCJrZXlNYW5hZ2VyIiwiZXMiLCJjYXB0dXJlUmVqZWN0aW9ucyIsImVtaXQiLCJldmVudE5hbWUiLCJhcmdzIiwib24iLCJsaXN0ZW5lciIsIm9uY2UiLCJnZXRXZWxsS25vd25DdnNDb25maWd1cmF0aW9uIiwiaW5pdEV2ZW50U291cmNlQ2xpZW50IiwiY3ZzQ29uZiIsIkV2ZW50U291cmNlIiwidmF1bHRfY29uZmlndXJhdGlvbiIsImV2ZW50c19lbmRwb2ludCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwibXNnIiwiSlNPTiIsInBhcnNlIiwibG9nb3V0Iiwib25lcnJvciIsImVtaXRFcnJvciIsImtleV9kZXJpdmF0aW9uIiwiY2xvc2UiLCJpbml0S2V5TWFuYWdlciIsInJlcUJvZHkiLCJhdXRoa2V5IiwidjIiLCJ0b2tlbl9lbmRwb2ludCIsInRpbWVzdGFtcF9lbmRwb2ludCIsInZhdWx0X2VuZHBvaW50Iiwic3RvcmFnZSIsImZvcmNlIiwibG9jYWxUaW1lc3RhbXAiLCJyZW1vdGVUaW1lc3RhbXAiLCJnZXRSZW1vdGVTdG9yYWdlVGltZXN0YW1wIiwicmVnaXN0cmF0aW9uX2NvbmZpZ3VyYXRpb24iLCJwdWJsaWNfandrX2VuZHBvaW50IiwiandrIiwidHlwZSJdLCJtYXBwaW5ncyI6ImdSQUdhQSxFQUNNQyxJQUNSQyxJQUVUQyxZQUFhRixFQUFnQkMsR0FDM0JFLEtBQUtILElBQU1BLEVBQ1hHLEtBQUtGLElBQU1BLENBQ1osQ0FFREcsUUFBU0MsR0FFUCxNQUFNQyxFQUFLQyxjQUFZLElBR2pCQyxFQUFTQyxFQUFBQSxlQUFlTixLQUFLRixJQUFLRSxLQUFLSCxJQUFLTSxHQUc1Q0ksRUFBWUMsT0FBT0MsT0FBTyxDQUFDSixFQUFPSyxPQUFPUixHQUFRRyxFQUFPTSxVQUd4REMsRUFBTVAsRUFBT1EsYUFHbkIsT0FBT0wsT0FBT0MsT0FBTyxDQUFDTixF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
