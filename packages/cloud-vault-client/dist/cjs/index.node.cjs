"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("crypto"),e=require("axios"),i=require("events"),a=require("eventsource"),n=require("dotenv");function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=s(e),r=s(a);class u{key;alg;constructor(t,e){this.key=t,this.alg=e}encrypt(e){const i=t.randomBytes(16),a=t.createCipheriv(this.alg,this.key,i),n=Buffer.concat([a.update(e),a.final()]),s=a.getAuthTag();return Buffer.concat([i,s,n])}decrypt(e){const i=e.subarray(0,16),a=e.subarray(16,32),n=e.subarray(32),s=t.createDecipheriv(this.alg,this.key,i);return s.setAuthTag(a),Buffer.concat([s.update(n),s.final()])}}class h{_encKey;_authKey;username;derivationOptions;initialized;_initialized;constructor(t,e,i){this.username=t,this.derivationOptions=i,this._initialized=!1,this.initialized=this.init(e)}async init(t){const{master:e,auth:i,enc:a}=this.derivationOptions,n=c(e.salt_hashing_algorithm,e.salt_pattern,{username:this.username}),s=await d(t,{...e,salt:n}),o=c(i.salt_hashing_algorithm,i.salt_pattern,{username:this.username}),r=c(a.salt_hashing_algorithm,a.salt_pattern,{username:this.username}),[h,l]=await Promise.all([d(s,{...i,salt:o}),d(s,{...a,salt:r})]);this._authKey=h,this._encKey=new u(l,a.enc_algorithm),this._initialized=!0}get authKey(){if(!this._initialized)throw new Error("Unable to get authKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._authKey.export().toString("base64url")}get encKey(){if(!this._initialized)throw new Error("Unable to get encKey. KeyManager not initialized",{cause:"You may have forgotten to await keymanager.initialized or just to login"});return this._encKey}}function c(e,i,a){let n="";for(const t in a)n=i.replace(t,a[t]);return t.createHash(e).update(n).digest()}async function d(e,i){const a={...i.alg_options,maxmem:256*i.alg_options.N*i.alg_options.r},n="string"==typeof e?e:e.export(),s=new Promise(((e,s)=>{t.scrypt(n,i.salt,i.derived_key_length,a,((i,a)=>{null!==i&&s(i),e(t.createSecretKey(a))}))}));return await s}n.config();const l=(t,e)=>{let i=`Invalid value for ${t}. `;return void 0!==e&&(i+=`Allowed values are ${e} `),i},m=["0","false","FALSE"],p=["1","true","FALSE"],w=m.concat(p);function g(t,e){const i=void 0===(a=process.env[t])?"":a;var a;const n=(e=e??{})?.isBoolean??!1;if(n&&(e={...e,allowedValues:w}),""===i){if(void 0!==e.defaultValue)return e.defaultValue;if(void 0!==e.allowedValues&&!e.allowedValues.includes(""))throw new RangeError(l(t,e.allowedValues.join(", ")))}if(n&&p.includes(i))return!0;if(n&&m.includes(i))return!1;if(void 0!==e.allowedValues&&!e.allowedValues.includes(i))throw new RangeError(l(t,e.allowedValues.join(", ")));return i}g("NODE_ENV",{defaultValue:"production",allowedValues:["production","development"]});const f="v"+g("npm_package_version",{defaultValue:"0.0.1"})[0];class v extends Error{data;message;constructor(t,e,i){super(t,i),this.name="VaultError",this.data=e,this.message=t}static from(t){if(t instanceof v)return t;if(t instanceof Event)return new v("sse-connection-error",t,{cause:"Likely issues connecting to the events endpoint of the cloud vault server"});if(t instanceof e.AxiosError){if("Unauthorized"===t.response?.data.name)return new v("unauthorized",void 0);if(404===t.response?.status&&"no storage"===t.response.data.name)return new v("no-uploadded-storage",void 0);const e={request:{method:t.config?.method?.toLocaleUpperCase(),url:t.config?.url,headers:t.config?.headers,data:t.config?.data},response:{status:t.response?.status,headers:t.response?.headers,data:t.response?.data}};return new v("http-connection-error",e)}if(t instanceof Error){const e=new v("error",t,{cause:t.cause});return e.stack=t.stack,e}return new v("unknown",t)}}class y extends i.EventEmitter{timestamp;token;name;serverUrl;username;password;keyManager;wellKnownCvsConfiguration;initialized;es;constructor(e,i,a,n){super({captureRejections:!0}),this.name=n??t.randomBytes(16).toString("hex"),this.serverUrl=e,this.username=i,this.password=a,this.initialized=this.init()}emit(t,...e){return super.emit(t,...e)}on(t,e){return super.on(t,e)}once(t,e){return super.once(t,e)}async init(){try{await this.getWellKnownCvsConfiguration();const t=this.wellKnownCvsConfiguration;this.keyManager=new h(this.username,this.password,t.vault_configuration[f].key_derivation),await this.keyManager.initialized,delete this.password}catch(t){throw v.from(t)}}async getWellKnownCvsConfiguration(){const t=await o.default.get(this.serverUrl+"/.well-known/cvs-configuration");this.wellKnownCvsConfiguration=t.data}async initEventSourceClient(){if(void 0===this.token)throw new v("unauthorized",void 0);const t=this.wellKnownCvsConfiguration;this.es=new r.default(this.serverUrl+t.vault_configuration[f].events_endpoint,{headers:{Authorization:"Bearer "+this.token}}),this.es.onmessage=t=>{console.log(t)},this.es.addEventListener("connected",(t=>{const e=JSON.parse(t.data);this.timestamp=e.timestamp,this.emit("connected",e.timestamp)})),this.es.addEventListener("storage-updated",(t=>{const e=JSON.parse(t.data);e.timestamp!==this.timestamp&&(this.timestamp=e.timestamp,this.emit("storage-updated",this.timestamp))})),this.es.addEventListener("storage-deleted",(t=>{delete this.timestamp,this.logout(),this.emit("storage-deleted")})),this.es.onerror=t=>{this.emitError(t)}}emitError(t){const e=v.from(t);switch(e.message){case"unauthorized":this.logout(),this.emit("logged-out");break;case"sse-connection-error":this.emit("connection-error",e);break;default:this.emit("error",e)}}logout(){this.es?.close(),this.token=void 0,this.emit("logged-out")}async getAuthKey(){return await this.initialized.catch((t=>{throw new v("not-initialized",t)})),this.keyManager.authKey}async login(){await this.initialized.catch((t=>{throw new v("not-initialized",t)}));const t={username:this.username,authkey:this.keyManager.authKey},e=this.wellKnownCvsConfiguration,i=await o.default.post(this.serverUrl+e.vault_configuration.v2.token_endpoint,t).catch((t=>{throw v.from(t)}));if(200!==i.status)throw new v("validation",{description:`Received HTTP status ${i.status} does not match the expected one (200)`},{cause:"HTTP status does not match the expected one"});const a=i.data;this.token=a.token,await this.initEventSourceClient().catch((t=>{throw v.from(t)}))}async getRemoteStorageTimestamp(){if(await this.initialized.catch((t=>{throw new v("not-initialized",t)})),void 0===this.token)throw new v("unauthorized",void 0);const t=this.wellKnownCvsConfiguration,e=await o.default.get(this.serverUrl+t.vault_configuration[f].timestamp_endpoint,{headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}}).catch((t=>{throw v.from(t)}));if(200!==e.status)throw new v("validation",{description:`Received HTTP status ${e.status} does not match the expected one (200)`},{cause:"HTTP status does not match the expected one"});return(this.timestamp??0)<e.data.timestamp&&(this.timestamp=e.data.timestamp),e.data.timestamp}async getStorage(){if(await this.initialized.catch((t=>{throw new v("not-initialized",t)})),void 0===this.token)throw new v("unauthorized",void 0);try{const t=this.wellKnownCvsConfiguration,e=this.keyManager.encKey,i=await o.default.get(this.serverUrl+t.vault_configuration[f].vault_endpoint,{headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});if(200!==i.status)throw new v("validation",{description:`Received HTTP status ${i.status} does not match the expected one (200)`},{cause:"HTTP status does not match the expected one"});if(i.data.timestamp<(this.timestamp??0))throw new v("validation",{description:"WEIRD!!! Received timestamp is older than the one received in previous events"});const a=e.decrypt(Buffer.from(i.data.ciphertext,"base64url"));return this.timestamp=i.data.timestamp,{storage:a,timestamp:i.data.timestamp}}catch(t){throw v.from(t)}}async updateStorage(t,e=!1){if(await this.initialized.catch((t=>{throw new v("not-initialized",t)})),void 0===this.token)throw new v("unauthorized",void 0);if(void 0!==this.timestamp&&(t.timestamp??0)<this.timestamp)throw new v("conflict",{localTimestamp:t.timestamp,remoteTimestamp:this.timestamp});try{const i=this.wellKnownCvsConfiguration,a=this.keyManager.encKey;if(e){const e=await this.getRemoteStorageTimestamp();t.timestamp=null!==e?e:void 0}const n={ciphertext:a.encrypt(t.storage).toString("base64url"),timestamp:t.timestamp},s=await o.default.post(this.serverUrl+i.vault_configuration[f].vault_endpoint,n,{headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});if(201!==s.status)throw new v("validation",{description:`Received HTTP status ${s.status} does not match the expected one (201)`},{cause:"HTTP status does not match the expected one"});this.timestamp=s.data.timestamp}catch(t){throw v.from(t)}}async deleteStorage(){if(await this.initialized.catch((t=>{throw new v("not-initialized",t)})),void 0===this.token)throw new v("unauthorized",void 0);try{const t=this.wellKnownCvsConfiguration,e=await o.default.delete(this.serverUrl+t.vault_configuration[f].vault_endpoint,{headers:{Authorization:"Bearer "+this.token}});if(204!==e.status)throw new v("validation",{description:`Received HTTP status ${e.status} does not match the expected one (204)`},{cause:"HTTP status does not match the expected one"});delete this.timestamp,this.logout()}catch(t){throw v.from(t)}}async getServerPublicKey(){try{await this.getWellKnownCvsConfiguration();const t=this.wellKnownCvsConfiguration,e=await o.default.get(this.serverUrl+t.registration_configuration.public_jwk_endpoint);if(200!==e.status)throw new v("validation",{description:`Received HTTP status ${e.status} does not match the expected one (200)`},{cause:"HTTP status does not match the expected one"});return e.data.jwk}catch(t){throw v.from(t)}}}exports.KeyManager=h,exports.SecretKey=u,exports.VaultClient=y,exports.deriveKey=d;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubm9kZS5janMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90cy9zZWNyZXQta2V5LnRzIiwiLi4vLi4vc3JjL3RzL2tleS1tYW5hZ2VyLnRzIiwiLi4vLi4vc3JjL3RzL2NvbmZpZy9wYXJzZVByb2Nlc3NFbnZWYXIudHMiLCIuLi8uLi9zcmMvdHMvY29uZmlnL2luZGV4LnRzIiwiLi4vLi4vc3JjL3RzL2Vycm9yLnRzIiwiLi4vLi4vc3JjL3RzL3ZhdWx0LWNsaWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6bnVsbCwibmFtZXMiOlsiU2VjcmV0S2V5Iiwia2V5IiwiYWxnIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiZW5jcnlwdCIsImlucHV0IiwiaXYiLCJyYW5kb21CeXRlcyIsImNpcGhlciIsImNyZWF0ZUNpcGhlcml2IiwiZW5jcnlwdGVkIiwiQnVmZmVyIiwiY29uY2F0IiwidXBkYXRlIiwiZmluYWwiLCJ0YWciLCJnZXRBdXRoVGFnIiwiZGVjcnlwdCIsInN1YmFycmF5IiwiY2lwaGVydGV4dCIsImRlY2lwaGVyIiwiY3JlYXRlRGVjaXBoZXJpdiIsInNldEF1dGhUYWciLCJLZXlNYW5hZ2VyIiwiX2VuY0tleSIsIl9hdXRoS2V5IiwidXNlcm5hbWUiLCJkZXJpdmF0aW9uT3B0aW9ucyIsImluaXRpYWxpemVkIiwiX2luaXRpYWxpemVkIiwicGFzc3dvcmQiLCJvcHRzIiwiaW5pdCIsImFzeW5jIiwibWFzdGVyIiwiYXV0aCIsImVuYyIsIm1hc3RlclNhbHQiLCJfc2FsdCIsInNhbHRfaGFzaGluZ19hbGdvcml0aG0iLCJzYWx0X3BhdHRlcm4iLCJtYXN0ZXJLZXkiLCJkZXJpdmVLZXkiLCJzYWx0IiwiYXV0aFNhbHQiLCJlbmNTYWx0IiwiYXV0aEtleSIsImVuY0tleSIsIlByb21pc2UiLCJhbGwiLCJlbmNfYWxnb3JpdGhtIiwiRXJyb3IiLCJjYXVzZSIsImV4cG9ydCIsInRvU3RyaW5nIiwiaGFzaEFsZ29yaXRobSIsInNhbHRQYXR0ZXJuIiwicmVwbGFjZW1lbnRzIiwic2FsdFN0cmluZyIsInNlYXJjaFZhbHVlIiwicmVwbGFjZSIsImNyZWF0ZUhhc2giLCJkaWdlc3QiLCJwYXNzd29yZE9yS2V5Iiwic2NyeXB0T3B0aW9ucyIsImFsZ19vcHRpb25zIiwibWF4bWVtIiwiTiIsInIiLCJrZXlQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNjcnlwdCIsImRlcml2ZWRfa2V5X2xlbmd0aCIsImVyciIsImNyZWF0ZVNlY3JldEtleSIsImxvYWRFbnZGaWxlIiwiaW52YWxpZE1zZyIsInZhcm5hbWUiLCJ2YWx1ZXMiLCJyZXQiLCJ1bmRlZmluZWQiLCJib29sZWFuRmFsc2VBbGxvd2VkVmFsdWVzIiwiYm9vbGVhblRydWVBbGxvd2VkVmFsdWVzIiwiYm9vbGVhbkFsbG93ZWRWYWx1ZXMiLCJwYXJzZVByb2NjZXNzRW52VmFyIiwidmFyTmFtZSIsIm9wdGlvbnMiLCJ2YWx1ZSIsImEiLCJwcm9jZXNzIiwiZW52IiwiaXNCb29sZWFuIiwiYWxsb3dlZFZhbHVlcyIsImRlZmF1bHRWYWx1ZSIsImluY2x1ZGVzIiwiUmFuZ2VFcnJvciIsImpvaW4iLCJhcGlWZXJzaW9uIiwiVmF1bHRFcnJvciIsImRhdGEiLCJtZXNzYWdlIiwic3VwZXIiLCJuYW1lIiwic3RhdGljIiwiZXJyb3IiLCJFdmVudCIsIkF4aW9zRXJyb3IiLCJyZXNwb25zZSIsInN0YXR1cyIsInZhdWx0Q29ubkVycm9yIiwicmVxdWVzdCIsIm1ldGhvZCIsImNvbmZpZyIsInRvTG9jYWxlVXBwZXJDYXNlIiwidXJsIiwiaGVhZGVycyIsInZhdWx0RXJyb3IiLCJzdGFjayIsIlZhdWx0Q2xpZW50IiwiRXZlbnRFbWl0dGVyIiwidGltZXN0YW1wIiwidG9rZW4iLCJzZXJ2ZXJVcmwiLCJrZXlNYW5hZ2VyIiwid2VsbEtub3duQ3ZzQ29uZmlndXJhdGlvbiIsImVzIiwiY2FwdHVyZVJlamVjdGlvbnMiLCJlbWl0IiwiZXZlbnROYW1lIiwiYXJncyIsIm9uIiwibGlzdGVuZXIiLCJvbmNlIiwiZ2V0V2VsbEtub3duQ3ZzQ29uZmlndXJhdGlvbiIsImN2c0NvbmYiLCJ2YXVsdF9jb25maWd1cmF0aW9uIiwia2V5X2Rlcml2YXRpb24iLCJmcm9tIiwicmVzIiwiYXhpb3MiLCJnZXQiLCJFdmVudFNvdXJjZSIsImV2ZW50c19lbmRwb2ludCIsIkF1dGhvcml6YXRpb24iLCJvbm1lc3NhZ2UiLCJtc2ciLCJjb25zb2xlIiwibG9nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJKU09OIiwicGFyc2UiLCJsb2dvdXQiLCJvbmVycm9yIiwiZW1pdEVycm9yIiwiY2xvc2UiLCJjYXRjaCIsInJlcUJvZHkiLCJhdXRoa2V5IiwicG9zdCIsInYyIiwidG9rZW5fZW5kcG9pbnQiLCJkZXNjcmlwdGlvbiIsImJvZHkiLCJpbml0RXZlbnRTb3VyY2VDbGllbnQiLCJ0aW1lc3RhbXBfZW5kcG9pbnQiLCJ2YXVsdF9lbmRwb2ludCIsInN0b3JhZ2UiLCJmb3JjZSIsImxvY2FsVGltZXN0YW1wIiwicmVtb3RlVGltZXN0YW1wIiwiZ2V0UmVtb3RlU3RvcmFnZVRpbWVzdGFtcCIsInJlcXVlc3RCb2R5IiwiZGVsZXRlIiwicmVnaXN0cmF0aW9uX2NvbmZpZ3VyYXRpb24iLCJwdWJsaWNfandrX2VuZHBvaW50IiwiandrIl0sIm1hcHBpbmdzIjoiZ1JBR2FBLEVBQ01DLElBQ1JDLElBRVRDLFlBQWFGLEVBQWdCQyxHQUMzQkUsS0FBS0gsSUFBTUEsRUFDWEcsS0FBS0YsSUFBTUEsQ0FDWixDQUVERyxRQUFTQyxHQUVQLE1BQU1DLEVBQUtDLGNBQVksSUFHakJDLEVBQVNDLEVBQUFBLGVBQWVOLEtBQUtGLElBQUtFLEtBQUtILElBQUtNLEdBRzVDSSxFQUFZQyxPQUFPQyxPQUFPLENBQUNKLEVBQU9LLE9BQU9SLEdBQVFHLEVBQU9NLFVBR3hEQyxFQUFNUCxFQUFPUSxhQUduQixPQUFPTCxPQUFPQyxPQUFPLENBQUNOLEVBQUlTLEVBQUtMLEdBQ2hDLENBRURPLFFBQVNaLEdBRVAsTUFBTUMsRUFBS0QsRUFBTWEs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
